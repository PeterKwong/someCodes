(()=>{"use strict";var e={245:(e,t,i)=>{i.d(t,{Z:()=>s});var n=i(3645),a=i.n(n)()((function(e){return e[1]}));a.push([e.id,"#productViewer{height:auto;width:100%}",""]);const s=a},3645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i=e(t);return t[2]?"@media ".concat(t[2]," {").concat(i,"}"):i})).join("")},t.i=function(e,i,n){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(n)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(a[o]=!0)}for(var r=0;r<e.length;r++){var c=[].concat(e[r]);n&&a[c[0]]||(i&&(c[2]?c[2]="".concat(i," and ").concat(c[2]):c[2]=i),t.push(c))}},t}},3379:(e,t,i)=>{var n,a=function(){return void 0===n&&(n=Boolean(window&&document&&document.all&&!window.atob)),n},s=function(){var e={};return function(t){if(void 0===e[t]){var i=document.querySelector(t);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}e[t]=i}return e[t]}}(),o=[];function r(e){for(var t=-1,i=0;i<o.length;i++)if(o[i].identifier===e){t=i;break}return t}function c(e,t){for(var i={},n=[],a=0;a<e.length;a++){var s=e[a],c=t.base?s[0]+t.base:s[0],l=i[c]||0,u="".concat(c," ").concat(l);i[c]=l+1;var d=r(u),p={css:s[1],media:s[2],sourceMap:s[3]};-1!==d?(o[d].references++,o[d].updater(p)):o.push({identifier:u,updater:f(p,t),references:1}),n.push(u)}return n}function l(e){var t=document.createElement("style"),n=e.attributes||{};if(void 0===n.nonce){var a=i.nc;a&&(n.nonce=a)}if(Object.keys(n).forEach((function(e){t.setAttribute(e,n[e])})),"function"==typeof e.insert)e.insert(t);else{var o=s(e.insert||"head");if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}return t}var u,d=(u=[],function(e,t){return u[e]=t,u.filter(Boolean).join("\n")});function p(e,t,i,n){var a=i?"":n.media?"@media ".concat(n.media," {").concat(n.css,"}"):n.css;if(e.styleSheet)e.styleSheet.cssText=d(t,a);else{var s=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function m(e,t,i){var n=i.css,a=i.media,s=i.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}var h=null,g=0;function f(e,t){var i,n,a;if(t.singleton){var s=g++;i=h||(h=l(t)),n=p.bind(null,i,s,!1),a=p.bind(null,i,s,!0)}else i=l(t),n=m.bind(null,i,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(i)};return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var i=c(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var n=0;n<i.length;n++){var a=r(i[n]);o[a].references--}for(var s=c(e,t),l=0;l<i.length;l++){var u=r(i[l]);0===o[u].references&&(o[u].updater(),o.splice(u,1))}i=s}}}}},t={};function i(n){if(t[n])return t[n].exports;var a=t[n]={id:n,exports:{}};return e[n](a,a.exports,i),a.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{document.head.querySelector('meta[name="api-token"]')&&document.head.querySelector('meta[name="api-token"]').content;function e(){return{en:0,hk:1,cn:2}[window.location.pathname.slice(1,3)]}function t(){return window.location.pathname.slice(0,3)}function n(e,t,i){var n=new Date;n.setTime(n.getTime()+60*i*1e3);var a="expires="+n.toGMTString();console.log(e+"="+t+"; "+a+"; path=/"),window.location.pathname,document.cookie=e+"="+t+"; "+a+"; path=/"}function a(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(-1!=a.indexOf(t))return a.substring(t.length,a.length)}return""}var s={Authorization:"Bearer ".concat(decodeURI(a("api-token")))};function o(e){return axios({method:"GET",url:e,headers:s})}function r(e,t,i){var n=[];return(n=t.filter((function(t){return t[e]}))).hasOwnProperty(0)?n[0][e][i]:"."+e}function c(e,t,i,n,a,s,o,r){var c,l="function"==typeof e?e.options:e;if(t&&(l.render=t,l.staticRenderFns=i,l._compiled=!0),n&&(l.functional=!0),s&&(l._scopeId="data-v-"+s),o?(c=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(o)},l._ssrRegister=c):a&&(c=r?function(){a.call(this,(l.functional?this.parent:this).$root.$options.shadowRoot)}:a),c)if(l.functional){l._injectStyles=c;var u=l.render;l.render=function(e,t){return c.call(t),u(e,t)}}else{var d=l.beforeCreate;l.beforeCreate=d?[].concat(d,c):[c]}return{exports:e,options:l}}const l=c({props:{value:{default:null},active:!1,title:"",columns:"",processing:"",langs:"",locale:""},data:function(){return{mutualVar,form:{name:"",phone:"",remark:"Remark:",storeURL:"tingdiamond.com"+window.location.pathname},hrefLangs:window.location.pathname.slice(0,3),text:{title:"Details fo Appointment",button:"Contact Us",button1:"Appointment",placeholderName:"your name",placeholderNo:"your Phone No."}}},filters:{capitalize:function(e){return e?(e=e.toString()).charAt(0).toUpperCase()+e.slice(1):""},transJs:r},methods:{save:function(){var e=this;this.value.images=0,this.value.texts=0;var t,i,n=Object.assign({},this.form,this.value,this.storeURL);(t="/api/appointment",i=n,axios({method:"POST",url:t,data:i,headers:s})).then((function(t){t.data.saved&&(e.mutualVar.notification.state.success=t.data.message,e.$emit("active",null))})).catch((function(t){422===t.response.status&&(e.mutualVar.notification.state.error=t.response.data)})),this.active=!1}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.active?i("div",{on:{click:function(t){return e.$emit("active",null)}}},[i("div",[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("button",{staticClass:"modal-button",attrs:{tabindex:"-1"}}),e._v(" "),i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"},on:{click:function(t){return e.$emit("active",null)}}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title"}),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"},on:{click:function(t){return e.$emit("active",null)}}},[e._v("×")])])]),e._v(" "),i("div",{staticClass:"modal-body"},[i("h1",{staticClass:"text-xl text-blue-600"},[e._v(e._s(e._f("capitalize")(e._f("transJs")(e.text.title,e.langs,e.locale))))]),e._v(" "),i("table",{staticClass:"table-auto"},[i("tbody",[i("tr",e._l(e.columns,(function(t){return i("td",[e._v(e._s(e._f("capitalize")(e._f("transJs")(t,e.langs,e.locale))))])})),0),e._v(" "),i("tr",e._l(e.columns,(function(t){return i("td",[e._v(e._s(e.value[t]))])})),0)])]),e._v(" "),i("form",{on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.name,expression:"form.name"}],staticClass:"input w-9/12",attrs:{type:"text",name:"name",placeholder:e._f("transJs")(e.text.placeholderName,e.langs,e.locale),required:""},domProps:{value:e.form.name},on:{input:function(t){t.target.composing||e.$set(e.form,"name",t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.form.phone,expression:"form.phone"}],staticClass:"input w-9/12",attrs:{type:"number",name:"tel",placeholder:e._f("transJs")(e.text.placeholderNo,e.langs,e.locale),required:""},domProps:{value:e.form.phone},on:{input:function(t){t.target.composing||e.$set(e.form,"phone",t.target.value)}}}),e._v(" "),i("textarea",{directives:[{name:"model",rawName:"v-model",value:e.form.remark,expression:"form.remark"}],attrs:{rows:"5",cols:"50"},domProps:{value:e.form.remark},on:{input:function(t){t.target.composing||e.$set(e.form,"remark",t.target.value)}}}),e._v(" "),i("div",[i("button",{staticClass:"btn btn-outline",attrs:{href:e.hrefLangs+"/about-us"}},[e._v("\n                                "+e._s(e._f("transJs")(e.text.button,e.langs,e.locale))+"\n                              ")]),e._v(" "),i("button",{staticClass:"btn btn-outline ",class:{"is-loading":e.processing},on:{submit:function(t){return t.stopPropagation(),e.save(t)}}},[e._v("\n                                "+e._s(e._f("transJs")(e.text.button1,e.langs,e.locale))+"\n                              ")])])])])])])])])])],1)]):e._e()}),[],!1,null,null,null).exports;const u=[{"Select this Item":["Select this Item","選擇商品","选择商品"]},{diamonds:["diamonds","鑽石","钻石"]},{engagementRings:["engagementRings","求婚戒指","求婚戒指"]},{"Back to":["Back to","回到","回到"]},{Remove:["Remove","刪除","删除"]},{"Ring Size":["Ring Size","戒指號","戒指号"]},{Engrave:["Engrave","刻字","刻字"]},{change:["change","更改","更改"]},{"Apply Coupon":["Apply Coupon","使用優惠碼","使用优惠码"]},{"Enter Coupon Code":["Enter Coupon Code","輸入優惠碼","输入优惠码"]},{Total:["Total","總數","总数"]},{"Deposit (20%)":["Deposit (20%)","訂金(20%)","订金(20%)"]},{"Balance (80%)":["Balance (80%)","餘額(80%)","余额(80%)"]},{VISA:["VISA/Master","VISA/Master","VISA/Master"]},{"ESP(-1%)":["ESP(-1%)","ESP(-1%)","ESP(-1%)"]},{"Alipay(-1%)":["Alipay(-1%)","支付寶(-1%)","支付宝(-1%)"]},{"Wechat(-1%)":["Wechat(-1%)","微信(-1%)","微信(-1%)"]},{"Cash(-2%)":["Cash(~1.7-2%)","現金(~1.7-2%)","现金(~1.7-2%)"]},{checkout:["checkout","結賬","结账"]},{Name:["Name"," 名稱"," 名称"]},{Mobile:["Mobile","電話號碼","电话号码"]},{Address:["Address","地址","地址"]},{Email:["Email","電郵地址","电邮地址"]},{Area:["Area","地區","地区"]},{HK:["HK","香港","香港"]},{CN:["CN","中國","中国"]},{"Add A Diamond":["Add A Diamond","加入鑽石","加入钻石"]},{"Add A Engagement Ring":["Add A Engagement Ring","加入戒指款式","加入戒指款式"]},{"Add To Cart":["Add To Cart","加入購物車","加入购物车"]},{"Disounted Total":["Disounted Total","折扣總數","折扣总数"]},{"you only need to pay deposit, balance will pay after 100% satisfied":["you only need to pay deposit, balance will pay after 100% satisfied","只需先付定金，餘額在滿意成品後才付款","只需先付定金，余额在满意成品后才付款"]},{"Today Order, Diamond Gets Free shipment":["Today Order, Diamond Gets Free shipment","今天下單, 鑽石免費運送","今天下单, 钻石免费运送"]},{On:["On","於","於"]},{"check your pending order":["check your pending order","查看你的待確認訂單","查看你的待确认订单"]},{0:["No","否","否"]},{1:["Yes","是","是"]},{January:["January","1月","1月"]},{February:["February","2月","2月"]},{March:["March","3月","3月"]},{April:["April","四4","4月"]},{May:["May","5月","5月"]},{June:["June","6月","6月"]},{July:["July","7月","7月"]},{August:["August","8月","8月"]},{September:["September","9月","9月"]},{October:["October","10月","10月"]},{November:["November","11月","11月"]},{December:["December","12月","12月"]},{Sunday:["Sunday","星期日","星期日"]},{Monday:["Monday","星期一","星期一"]},{Tuesday:["Tuesday","星期二","星期二"]},{Wednesday:["Wednesday","星期三","星期三"]},{Thursday:["Thursday","星期四","星期四"]},{Friday:["Friday","星期五","星期五"]},{Saturday:["Saturday","星期六","星期六"]},{day:["","日","日"]},{Precautions:["Precautions","注意事項","注意事项"]},{"All amounts of the company are subject to Hong Kong dollar settlement":["All amounts of the company are subject to Hong Kong dollar settlement","本公司一切金額以港幣結算為準 (8萬元以上之鑽石定價為現金價，如以信用卡、支付寶、微信付款，需額外支付2%手續費。​ )","本公司一切金额以港币结算为准（8万元以上之钻石定价为现金价，如以信用卡，支付宝，微信付款，需额外支付2％手续费。）"]},{"The customer is required to pay the full amount and withdraw the goods within two months after the order is placed, otherwise the company reserves the right to terminate the transaction.":["The customer is required to pay the full amount and withdraw the goods within two months after the order is placed, otherwise the company reserves the right to terminate the transaction.","客戶必須在訂貨後一個月內，支付全額並提取貨物，否則本公司將保留終止交易的權利。​","客户必须在预定后一个月内，支付全额并提取货物，否则本公司将保留终止交易的权利。"]},{"In order to protect the interests of both parties, unless the diamond does not match the GIA report, the order will not be returned after confirmation.":["In order to protect the interests of both parties, unless the diamond does not match the GIA report, the order will not be returned after confirmation.","為保障雙方利益, 除了鑽石跟GIA報告不相符，否則確認訂單後恕不退換。","为保障双方利益, 除了钻石跟GIA报告不相符，否则确认订单后恕不退换。"]},{"The deposit amount is 20%, ranging from at least $ 3000 to at most $ 10,000.":["The deposit amount is 20%, ranging from at least $ 3000 to at most $ 10,000.","訂金數目為2成，由最少$3000到最多$10000。","订金数量为2成，由最少$ 3000到最多$ 10000。"]},{"We buy directly in foreign countries, and it takes about 4-5 working days to ship to Hong Kong ~":["We buy directly in foreign countries, and it takes about 4-5 working days to ship to Hong Kong ~","我們直接在外國全數購買,運到香港需時4-5個工作天左右~","我们直接在外国全数购买,运到香港需时4-5个工作天左右~"]},{"After the diamond arrives in Hong Kong, I will inform you ~ Provide photos and certificate physical map, and then pay the balance when you pick up the goods":["After the diamond arrives in Hong Kong, I will inform you ~ Provide photos and certificate physical map, and then pay the balance when you pick up the goods","鑽石運到香港後，我會通知你~提供相片同證書實物圖,然後你取貨時先付餘款","钻石运到香港后，我会通知你~提供相片同证书实物图,然后你取货时先付余款"]},{"Login to save coupon code":["Login to save coupon code","登入賬號,儲存優惠碼","登入賬號,儲存優惠碼"]},{"mounting fee":["mounting fee","鑲工","镶工"]}];const d=c({components:{},props:{item:"",type:"",title:"",carouselItem:""},data:function(){return{mutualVar,langs:u}},watch:{"mutualVar.cookiesInfo.fetchStatus":"updateMutualVar",$route:"fetchData"},created:function(){this.fetchCookies(),this.maxItemIndex(),this.addItemIndex()},filters:{transJs:r},computed:{singularType:function(){return this.type.replace(/s/gi,"")},shoppingCart:function(){return this.mutualVar.cookiesInfo.shoppingCart},totalAddedCartItems:function(){for(var e=0,t=0;this.mutualVar.cookiesInfo.shoppingCart.items.length>t;t++)"engagementRings"!=this.type&&"diamonds"!=this.type||this.mutualVar.cookiesInfo.shoppingCart.items[t].addedCart&&(e+=1);return e},nextProcedure:function(){var e={engagementRings:{modalOptions:[{text:"Add A Diamond",url:window.location.pathname.slice(0,3)+"/gia-loose-diamonds",clickable:!0}],addToCart:{text:"Add To Cart",url:"",clickable:!1}},diamonds:{modalOptions:[{text:"Add A Engagement Ring",url:window.location.pathname.slice(0,3)+"/engagement-rings",clickable:!0}],addToCart:{text:"Add To Cart",url:"",clickable:!0}}},t="";return this.mutualVar.cookiesInfo.shoppingCart.items.length>0&&"engagementRings"==this.type&&(t=this.mutualVar.cookiesInfo.shoppingCart.items[this.mutualVar.cookiesInfo.shoppingCart.selectingIndex].pairItems.filter((function(e){return"diamonds"==e.type})),console.log(t[0]),t.length&&t[0].id&&(e[this.type].addToCart.clickable=!0)),e[this.type]}},methods:{fetchCookies:function(){localStorage.getItem("shoppingCart")&&(this.shoppingCart=JSON.parse(decodeURIComponent(localStorage.getItem("shoppingCart"))))},sendCookies:function(){var e=this.shoppingCart;localStorage.setItem("shoppingCart",encodeURIComponent(JSON.stringify(e)),10080)},maxItemIndex:function(){0!=this.shoppingCart.selectingIndex&&this.shoppingCart.selectingIndex>this.shoppingCart.items.length-1&&this.shoppingCart.items.length&&this.shoppingCart.items.length&&(this.shoppingCart.selectingIndex=this.shoppingCart.items.length-1),this.sendCookies()},addItemIndex:function(){"create"==this.shoppingCart.mode&&1==this.shoppingCart.items[this.shoppingCart.items.length-1].addedCart&&(this.addItemSample(),this.shoppingCart.selectingIndex+=1,this.sendCookies())},updateMutualVar:function(){this.sendCookies()},addItemSample:function(){this.shoppingCart.items.push({addedCart:0,pairItems:[]})},checkSameDiamondInCart:function(){for(var e=this,t=this.shoppingCart.items,i=0;this.shoppingCart.items.length>i;i++){if(t[i].pairItems.length>0&&i!=this.shoppingCart.selectingIndex&&t[i].pairItems.filter((function(t){if("diamonds"==t.type&&t.id==e.item.id)return t})).length>0)return window.livewire.emit("notifiication-flash","error,Find other diamond,Same diamond on the list"),1}},selectItem:function(){if(1!=this.checkSameDiamondInCart()){var i={id:"",image:"",unit_price:"",title:"",url:"",type:"",ringSize:0,available:1,engrave:"",delivery:2,diamondSize:""},n=this.shoppingCart;if(this.toggleModal(),n.selectingType=this.type,n.haveShoppingCart=1,0==n.items.length&&this.addItemSample(),i.id=this.item.id,i.title=this.title,"engagementRings"==this.type&&(i.type="engagementRings",i.unit_price=this.item.unit_price,i.image=mutualVar.storage[mutualVar.storage.live]+"public/images/"+this.item.images.find((function(e){return"cover"==e.type})).image,i.url=t()+"/engagement-rings/"),"diamonds"==this.type&&(i.type="diamonds",i.unit_price=this.item.price,i.diamondSize=parseFloat(this.item.weight),i.url=t()+"/gia-loose-diamonds/",1==this.item.image_cache?i.image=mutualVar.storage[mutualVar.storage.live]+"public/diamond/images/"+this.item.id+".jpg":i.image="/images/front-end/diamond_show/RoundDiamonds_sample.png","1Hong Kong"!=this.item.location&&(i.delivery=7)),0==n.items[n.selectingIndex].pairItems.length)n.items[n.selectingIndex].pairItems.push(i);else{for(var a=0,s=0;n.items[n.selectingIndex].pairItems.length>s;s++)n.items[n.selectingIndex].pairItems[s].type==this.type&&(a=1,n.items[n.selectingIndex].pairItems[s]=i);0==a&&n.items[n.selectingIndex].pairItems.push(i)}if(1==n.items[n.selectingIndex].addedCart&&this.addItemSample(),this.sendCookies(),3==n.items[n.selectingIndex].pairItems.length&&this.directToReview(),2==n.items[n.selectingIndex].pairItems.length){var o=e(),r={id:"",image:"/images/front-end/shoppingCart/mountingFee.png",unit_price:500,title:this.langs.find((function(e){return e["mounting fee"]}))["mounting fee"][o],url:t()+"/buying-procedure/diamond-inlay-engrave",type:"mountingFee",available:1},c=[{amount:1e3,size:500,id:211},{amount:700,size:2.99,id:177},{amount:500,size:1.39,id:5}];for(s=0;c.length>s;s++)c[s].size>n.items[n.selectingIndex].pairItems.find((function(e){return"diamonds"==e.type})).diamondSize&&(r.unit_price=c[s].amount,r.id=c[s].id);n.items[n.selectingIndex].pairItems.push(r),this.directToReview()}}},directToReview:function(){this.toggleModal(),this.sendCookies(),window.open(t()+"/diamond-ring-review","_self")},addItemToCart:function(){this.shoppingCart.items[this.shoppingCart.selectingIndex].addedCart=1,this.shoppingCart.mode="create",this.addItemSample(),this.sendCookies(),this.toggleModal(),window.open(t()+"/shopping-cart","_self")},toggleModal:function(){this.shoppingCart.modalActive=!this.shoppingCart.modalActive,this.sendCookies()}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"section",attrs:{id:"customerMoments"}},[i("button",{staticClass:"btn btn-primary",on:{click:function(t){return e.selectItem()}}},[e._v(e._s(e._f("transJs")("Select this Item",e.langs,e.mutualVar.langs.localeCode)))]),e._v(" "),e.mutualVar.cookiesInfo.shoppingCart.haveShoppingCart?i("div",{on:{click:function(t){return e.toggleModal()}}},[e.mutualVar.cookiesInfo.shoppingCart.modalActive?i("div",[i("transition",{attrs:{name:"modal"}},[i("div",{staticClass:"modal-mask"},[i("button",{staticClass:"modal-button",attrs:{tabindex:"-1"}}),e._v(" "),i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"},on:{click:function(t){return e.toggleModal()}}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title"}),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"},on:{click:function(t){return e.toggleModal()}}},[e._v("×")])])]),e._v(" "),i("div",{staticClass:"modal-body mx-12 mb-4"},[i("center",[e._l(e.nextProcedure.modalOptions,(function(t){return i("div",[i("div",{on:{click:function(t){return e.toggleModal()}}},[i("a",{attrs:{href:""+t.url}},[i("button",{staticClass:"btn btn-primary",attrs:{disabled:!t.clickable}},[e._v("\n                                    "+e._s(e._f("transJs")(t.text,e.langs,e.mutualVar.langs.localeCode))+"\n                                  ")])])])])})),e._v(" "),i("button",{staticClass:"btn btn-primary hover:bg-blue-500",class:{"opacity-50":!e.nextProcedure.addToCart.clickable},attrs:{disabled:!e.nextProcedure.addToCart.clickable},on:{click:function(t){return e.addItemToCart()}}},[e._v(e._s(e._f("transJs")(e.nextProcedure.addToCart.text,e.langs,e.mutualVar.langs.localeCode)))])],2)],1)])])])])])],1):e._e()]):e._e()])}),[],!1,null,null,null).exports,p=[{shape:["shape","型狀","型状"]},{imageLink:["imageLink","圖像","图像"]},{price:["price","價格","价格"]},{weight:["weight","重量","重量"]},{color:["color","顏色","颜色"]},{clarity:["clarity","淨度","净度"]},{cut:["cut","切工","切工"]},{polish:["polish","打磨","打磨"]},{symmetry:["symmetry","對稱","对称"]},{fluorescence:["fluorescence","螢光","荧光"]},{certificate:["certificate","證書編號","证书编号"]},{lab:["lab","檢驗中心","检验中心"]},{fluorescence:["fluorescence","螢光","荧光"]},{starred:["starred","精選","精选"]},{location:["status","狀態","状态"]},{"stock no":["stock no","貨號","货号"]},{has_image:["has_image","圖像","图像"]},{RD:["RD","圓形","圆形"]},{Round:["Round","Round","Round"]},{ROUND:["Round","Round","Round"]},{PS:["PS","梨形","梨形"]},{Pear:["Pear","Pear","Pear"]},{PEAR:["Pear","Pear","Pear"]},{EM:["EM","祖母綠形","祖母绿形"]},{Emerald:["Emerald","Emerald","Emerald"]},{EMERALD:["Emerald","Emerald","Emerald"]},{PR:["PR","公主方形","公主方形"]},{Princess:["Princess","Princess","Princess"]},{PRINCESS:["Princess","Princess","Princess"]},{MQ:["MQ","馬眼形","马眼形"]},{Marquise:["Marquise","Marquise","Marquise"]},{MARQUISE:["Marquise","Marquise","Marquise"]},{CU:["CU","枕形","枕形"]},{Cushion:["Cushion","Cushion","Cushion"]},{CUSHION:["Cushion","Cushion","Cushion"]},{AC:["AC","上丁方形","上丁方形"]},{Asscher:["Asscher","Asscher","Asscher"]},{ASSCHER:["Asscher","Asscher","Asscher"]},{OV:["OV","橢圓形","椭圆形"]},{Oval:["Oval","Oval","Oval"]},{OVAL:["Oval","Oval","Oval"]},{HT:["HT","心形","心形"]},{Heart:["Heart","Heart","Heart"]},{HEART:["Heart","Heart","Heart"]},{RA:["RA","雷地恩形","雷地恩形"]},{Radiant:["Radiant","Radiant","Radiant"]},{RADIANT:["Radiant","Radiant","Radiant"]},{carat:["carat","重量","重量"]},{diamond:["diamond","鑽石","钻石"]},{Diamond:["Diamond","鑽石","钻石"]},{"your name":["your name","提供名字","提供名字"]},{"your Phone No.":["your Phone No.","提供電話號碼","提供电话号码"]},{Appointment:["Appointment","預約","预约"]},{"Details fo Appointment":["Details fo Appointment","預約細節","预约细节"]},{"Contact Us":["Contact Us","聯絡我們","联络我们"]},{"Very Good":["VG","VG","VG"]},{Good:["GD","GD","GD"]},{Excellent:["EX","EX","EX"]},{VG:["VG","VG","VG"]},{GD:["GD","GD","GD"]},{EX:["EX","EX","EX"]},{NoneCut:[" "," "," "]},{NONE:["NONE","無","无"]},{None:["None","無","无"]},{NON:["NON","無","无"]},{FAINT:["FAINT","微","微"]},{Faint:["Faint","微","微"]},{FNT:["FNT","微","微"]},{Fnt:["Fnt","微","微"]},{MEDIUM:["MEDIUM","中度","中度"]},{Medium:["Medium","中度","中度"]},{MED:["MED","中度","中度"]},{Med:["Med","中度","中度"]},{STRONG:["STRONG","強","強"]},{Strong:["Strong","強","強"]},{"Very Strong":["Very Strong","非常強","非常強"]},{VST:["Very Strong","非常強","非常強"]},{STR:["STR","強","強"]},{STG:["STG","強","強"]},{Order:["Order","需預訂","需预订"]},{"Carat Diamond Ring":["Carat Diamond Ring","卡鑽石戒指","卡钻石戒指"]},{"fancy diamond":["fancy diamond","彩色鑽石","彩色钻石"]},{"Fancy Diamond":["Fancy Diamond","彩色鑽石","彩色钻石"]},{"Only On Stock":["Only On Stock","只選現貨","只選現貨"]},{True:["Yes","是","是"]},{False:["No","否","否"]},{Yes:["Yes","是","是"]},{1:["Yes","是","是"]},{No:["No","否","否"]},{0:["No","否","否"]}],m={el:"#diamondViewerShow",components:{Appointment:l,ShoppingCart:d},data:function(){return{isRemoving:!1,appointmentState:!1,title:"",langs:p,text:{carat:"carat",diamond:"diamond"},mutualVar,diamond:{weight:""},columns:["price","shape","weight","color","clarity","cut","polish","symmetry","fluorescence","certificate","lab"],storeURL:"/api/diamonds/appointment",post:{invoice:{},content:[]},loadingStatus:{image:0,cert:0},storageURL:mutualVar.storage[mutualVar.storage.live]+"public/diamond/",isLoading:!0,selectingShowType:null,invoice:"",shoppingCartType:"diamonds"}},watch:{},beforeMount:function(){this.fetchData()},filters:{transJs:r},computed:{appointmentTitle:function(){return this.diamond.weight+r(this.text.carat,this.langs,this.locale)+" "+this.diamond.color+" "+r(this.columns[3],this.langs,this.locale)+" "+r(this.text.diamond,this.langs,this.locale)+" GIA:"+this.diamond.certificate},locale:function(){return"en"==window.location.pathname.slice(1,3)?0:"hk"==window.location.pathname.slice(1,3)?1:"cn"==window.location.pathname.slice(1,3)?2:void 0},localeHref:function(){return window.location.pathname.slice(0,4)}},methods:{fetchData:function(){var e=this;o("/api/diamonds/".concat(window.location.pathname.slice(23))).then((function(t){e.diamond=t.data.diamond})),o("/api/diamondsLoadingImage/".concat(window.location.pathname.slice(23))).then((function(t){e.isLoading=!1,e.diamond=t.data.diamond,e.loadingStatus.image=t.data.loading.image,t.data.diamond.image_cache&&(e.selectingShowType="image"),t.data.diamond.video_link&&(e.selectingShowType="video"),mutualVar.viewer.src=e.diamond.video_link.includes("http")?e.diamond.video_link.replace("http","https"):e.diamond.video_link})),o("/api/diamondsLoadingCert/".concat(window.location.pathname.slice(23))).then((function(t){e.isLoading=!1,e.diamond=t.data.diamond,e.loadingStatus.cert=t.data.loading.cert}))},scrollDown:function(){this.loading=!this.loading}}};const h={props:["folder","filename","size","rotate"],data:function(){return{dragging:!1,c:{x:160,y:160},start:{x:0,y:0},width:1080,height:720,viewer:{width:1080,heigh:720,progress:0,stage:""},rotatingTime:80,interval:""}},methods:{startDrag:function(e){e=e.changedTouches?e.changedTouches[0]:e,this.dragging=!0,this.start.x=e.pageX,this.start.y=e.pageY,document.body.style.cursor="ew-resize"},onDrag:function(e){var t=0;e=e.changedTouches?e.changedTouches[0]:e,this.dragging&&(this.c.x=e.pageX-this.start.x+160,this.c.y=e.pagey-this.start.y+160,e.pageX>this.start.x&&(t=-1,this.start.x=e.pageX-1),e.pageX<this.start.x&&(t=1,this.start.x=e.pageX+1),this.rotateDirection(t))},setRotation:function(e){var t=this;this.clearInterval(),this.interval=setInterval((function(){t.dragging||t.nextImage(e)}),this.rotatingTime)},clearInterval:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){clearInterval(this.interval)})),nextImage:function(e){this.rotateDirection(e)},rotateDirection:function(e){this.viewer.progress+=e,this.drawImg(),this.viewer.progress<=0&&-1==e&&(this.viewer.progress=this.size-1),this.viewer.progress>=this.size-1&&1==e&&(this.viewer.progress=0)},stopDrag:function(){this.dragging&&(this.dragging=!1,document.body.style.cursor="auto")},drawImg:function(){var e=document.getElementById("productViewer").getContext("2d"),t=new Image;t.src=this.folder+this.filename+this.viewer.progress+".jpg",t.onload=function(){e.drawImage(t,0,0,1080,720)}}},computed:{},components:{},destroyed:function(){this.clearInterval()},mounted:function(){this.drawImg(),this.setRotation(this.rotate)}};var g=i(3379),f=i.n(g),v=i(245),y={insert:"head",singleton:!1};f()(v.Z,y);v.Z.locals;const I=c(h,(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"row text-center"},[i("div",{staticClass:"col-12"},[i("canvas",{staticClass:"flex",attrs:{id:"productViewer",width:e.width,height:e.height},on:{mousedown:e.startDrag,touchstart:e.startDrag,mousemove:e.onDrag,touchmove:e.onDrag,mouseup:e.stopDrag,touchend:e.stopDrag,mouseleave:e.stopDrag}})])])}),[],!1,null,null,null).exports;const C=c({name:"videoPlayer",props:{options:!1,autoplay:!1}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.options?i("div",{attrs:{poster:e.options.poster,autoplay:!!e.autoplay&&e.autoplay}},[i("video",{staticClass:"w-full h-auto video-js vjs-big-play-centered ",attrs:{id:"my-video",controls:"",autoplay:!!e.autoplay&&e.autoplay,preload:"auto",poster:e.options.poster,"data-setup":'{"fluid": true}',src:e.options.sources[0].src}},[i("source",{attrs:{src:e.options.sources[0].src,type:"video/mp4"}})])]):e._e()}),[],!1,null,null,null).exports;const _=c({name:"carousel",components:{videoPlayer:C,ProductViewer:I},props:{items:{Type:Array},width:"",height:"",active:"",upperitems:""},created:function(){this.currentIndex=0},mounted:function(){mutualVar.css.innerWidth<500&&(this.fileName="thm-")},data:function(){return{currentIndex:0,showUpper:!0,rel:"?rel=0",images:mutualVar.storage[mutualVar.storage.live]+"public/images/",carouselUpperItems:"",chunkedUpperItemsData:"",videoType:"video/mp4",currentUpperIndex:0,videoPath:mutualVar.storage[mutualVar.storage.live]+"public/videos/",mutualVar,langs,fileName:"",folder:mutualVar.storage[mutualVar.storage.live]+"public/video360/"}},methods:{nextItem:function(){this.currentIndex==this.carouselUpperItemsToArray.length-1?this.currentIndex=0:this.currentIndex++},prevItem:function(){0==this.currentIndex?this.currentIndex=this.carouselUpperItemsToArray.length-1:this.currentIndex--},showAtIndex:function(e){this.currentIndex=e},currentSelectedItem:function(e,t){if(e>=0){if("upper"==t)return this.currentIndex=e,++this.currentIndex,this.showUpper=!0;this.showUpper=!1,this.currentIndex=0,this.currentIndex=e}}},computed:{currentItem:function(){return this.showUpper?this.carouselUpperItemsToArray[this.currentIndex]:this.carouselItemsToArray[this.currentIndex]},videoOptions:function(){return{muted:!0,language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:this.videoPath+this.currentItem.src}],poster:this.images+this.currentItem.thumb,fluid:!0,buttered:[0,3.46],preload:"auto",readyState:1,autoplay:!0}},carouselUpperItemsToArray:function(){var e=[];if(this.upperitems.video360&&e.push({src:this.upperitems.video360,type:"video360",thumb:this.folder+this.upperitems.video360+"/thm-0.jpg",size:120,rotate:1}),!this.upperitems.video360&&this.upperitems.video&&e.push({src:this.upperitems.video,type:"video",thumb:this.upperitems.images[0].image}),this.upperitems.images.length>0){for(var t=0;this.upperitems.images.length-1>=t;t++)e.push({src:this.upperitems.images[t].image,type:"img",thumb:this.upperitems.images[t].image});return this.carouselUpperItems=e,e}},chunkedUpperItems:function(){var e,t=[],i=[];return this.carouselUpperItemsToArray?this.currentIndex<=1?(t=this.carouselUpperItemsToArray.slice(0,3),i=this.carouselUpperItemsToArray.slice(3,this.carouselUpperItemsToArray.length).fill(""),t.concat(i)):(t=this.carouselUpperItemsToArray.slice(0,this.currentIndex-1).fill(""),i=this.carouselUpperItemsToArray.slice(this.currentIndex-1,this.currentIndex+2),e=this.carouselUpperItemsToArray.slice(this.currentIndex+2,this.carouselUpperItemsToArray.length).fill(""),t.concat(i,e)):t},carouselItemsToArray:function(){var e=[];if(this.items.reverse(),!this.items)return e.push({src:"",type:"",thumb:"",text:""});for(var t=this.items.length-1;t>=0;t--)this.items[t].images[0].image&&this.items[t].video?e.push({src:this.items[t].video,type:"video",thumb:this.items[t].images[0].image,text:this.items[t].texts[mutualVar.langs.localeCode].content}):e.push({src:this.items[t].images[0].image,type:"img",thumb:this.items[t].images[0].image,text:this.items[t].texts[mutualVar.langs.localeCode].content});return e},chunkedItems:function(){var e,t=[],i=[];return this.items?this.currentIndex<=1?(t=this.carouselItemsToArray.slice(0,3),i=this.carouselItemsToArray.slice(3,this.carouselItemsToArray.length).fill(""),t.concat(i)):(t=this.carouselItemsToArray.slice(0,this.currentIndex-1).fill(""),i=this.carouselItemsToArray.slice(this.currentIndex-1,this.currentIndex+2),e=this.carouselItemsToArray.slice(this.currentIndex+2,this.carouselItemsToArray.length).fill(""),t.concat(i,e)):t}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-2"},[e._l(e.upperitems.images,(function(t,n){return i("div",{staticClass:"nav-item",on:{click:function(t){return e.$emit("active",null)}}},[e.upperitems.images?e._e():i("a",{staticClass:"nav-link",class:{active:e.currentIndex==n},on:{click:function(t){return e.currentSelectedItem(n,"upper")}}},[e._v("\n               "+e._s(n+1)+"\n        ")])])})),e._v(" "),i("div",{staticClass:"flex justify-center p-2"},e._l(e.chunkedUpperItems,(function(t,n){return i("div",{staticClass:"box ",on:{click:function(t){return e.$emit("btn-primary",null)}}},[i("a",{staticClass:"btn",class:{"btn-primary":e.currentIndex==n},on:{click:function(t){return e.currentSelectedItem(n,"upper")}}},[e._v("\n                   "+e._s(n+1)+"\n            ")])])})),0),e._v(" "),i("div",{staticClass:"grid grid-cols-12"},e._l(e.chunkedUpperItems,(function(t,n){return t.thumb?i("div",{staticClass:"col-span-4 relative",on:{click:function(t){return e.currentSelectedItem(n,"upper")}}},["img"==t.type||"video"==t.type?i("img",{staticClass:"rounded mx-auto p-2",class:{"border border-primary rounded":e.currentIndex==n},attrs:{src:e.images+t.thumb,width:"100%"}}):e._e(),e._v(" "),"video360"==t.type?i("img",{staticClass:"rounded mx-auto p-2",class:{"border border-primary rounded":e.currentIndex==n},attrs:{src:t.thumb,width:"100%"}}):e._e(),e._v(" "),"video"==t.type?i("div",{staticClass:"absolute top-0"},[i("i",{staticClass:"hidden sm:block far fa-play-circle text-blue-600 fa-3x",staticStyle:{opacity:"0.5"},attrs:{"aria-hidden":"true"}}),e._v(" "),i("i",{staticClass:"sm:hidden far fa-play-circle text-blue-600 ",staticStyle:{opacity:"0.5"},attrs:{"aria-hidden":"true"}})]):e._e()]):e._e()})),0),e._v(" "),i("div",{staticClass:"grid grid-cols-12",on:{click:function(t){return e.$emit("active",null)}}},[i("div",{staticClass:"col-span-12"},["img"==e.currentItem.type?i("img",{staticClass:"w-auto",attrs:{src:e.images+e.currentItem.src},on:{click:e.nextItem}}):e._e(),e._v(" "),"video"==e.currentItem.type?i("video-player",{attrs:{options:e.videoOptions,autoplay:"false"}}):e._e(),e._v(" "),"video360"==e.currentItem.type?i("product-viewer",{attrs:{folder:e.folder+e.upperitems.video360+"/",filename:e.fileName,size:e.currentItem.size,rotate:e.currentItem.rotate}}):e._e(),e._v(" "),e.chunkedItems.length&&!e.showUpper?i("p",{staticClass:"text-primary text-center p-4"},[e._v(e._s(e.chunkedItems[e.currentIndex].text))]):e._e(),e._v(" "),i("p",{staticClass:"text-xl font-light"},[e._v(e._s(e.currentItem.title))]),e._v(" "),i("p",{staticClass:"text-lg font-light"},[e._v(" "+e._s(e.currentItem.desc)+" ")]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.currentItem.other)}})],1)]),e._v(" "),e.chunkedItems.length?i("center",[i("a",[e._v(e._s(e._f("transJs")("Customer Jewelleries",e.langs)))])]):e._e(),e._v(" "),i("div",{staticClass:"grid grid-cols-12 justify-center"},e._l(e.chunkedItems,(function(t,n){return t.thumb?i("div",{staticClass:"col-span-4 relative",on:{click:function(t){return e.currentSelectedItem(n,"lower")}}},[i("img",{staticClass:"rounded mx-auto d-block image-background p-2",class:{" border border-primary rounded":e.currentIndex==n},attrs:{src:e.images+t.thumb,width:"100%"}}),e._v(" "),"video"==t.type?i("div",{staticClass:"absolute top-0"},[i("i",{staticClass:"hidden sm:block far fa-play-circle text-blue-600 fa-3x",staticStyle:{opacity:"0.5"},attrs:{"aria-hidden":"true"}}),e._v(" "),i("i",{staticClass:"sm:hidden far fa-play-circle text-blue-600 ",staticStyle:{opacity:"0.5"},attrs:{"aria-hidden":"true"}})]):e._e()]):e._e()})),0),e._v(" "),i("div",{attrs:{"aria-label":"Page navigation example"}},[i("div",{staticClass:"flex justify-center"},[i("div",{staticClass:"btn btn-outline"},[i("a",{staticClass:"page-link",attrs:{"aria-label":"Previous"},on:{click:function(t){return e.currentSelectedItem(0,"lower")}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("1 «")])])]),e._v(" "),i("div",{staticClass:"btn btn-outline",class:{" disabled":0==e.currentIndex},on:{click:function(t){return e.currentSelectedItem(e.currentIndex-1,"lower")}}},[i("a",{staticClass:"page-link"},[e._v(e._s(e.currentIndex))])]),e._v(" "),i("div",{staticClass:"btn btn-primary"},[i("a",{staticClass:"page-link"},[e._v(e._s(e.currentIndex+1))])]),e._v(" "),i("div",{staticClass:"btn btn-outline",on:{click:function(t){return e.currentSelectedItem(e.currentIndex+1,"lower")}}},[i("a",{staticClass:"page-link"},[e._v(e._s(e.currentIndex+2))])]),e._v(" "),i("div",{staticClass:"btn btn-outline"},[i("a",{staticClass:"page-link",attrs:{"aria-label":"Next"},on:{click:function(t){return e.currentSelectedItem(e.items.length-1,"lower")}}},[i("span",{attrs:{"aria-hidden":"true"}},[e._v("» "+e._s(e.items.length+1))])])])])])],2)}),[],!1,null,null,null).exports,b={el:"#engagementRingsShow",components:{Carousel:_,ShoppingCart:d},data:function(){return{isRemoving:!1,carouselState:!1,title:"",langs,mutualVar,text:{engagementRing:"engagementRing"},hrefLangs:window.location.pathname.slice(0,3),engagementRing:"",customerItems:"",shoppingCartType:"engagementRings",carouselItem:{active:"",upperitems:"",items:"",title:"customer jewellries"}}},watch:{$route:"fetchData"},beforeMount:function(){this.fetchData()},computed:{},methods:{fetchData:function(){var e=this;get("/api/engagementRings/".concat(window.location.pathname.slice(21))).then((function(t){e.engagementRing=t.data.model,e.filterNotPostable(t.data.posts.invoicePosts),e.assignCarouselItem()}))},filterNotPostable:function(e){for(var t=this.engagementRing.id,i=[],n=0;e.length>n;n++)"App/EngagementRing"==e[n].postable_type&&e[n].postable_id==t&&i.push(e[n]);this.customerItems=i},assignCarouselItem:function(){this.carouselItem.active=this.carouselState,this.carouselItem.upperitems=this.engagementRing,this.carouselItem.items=this.customerItems.slice(0,1)}}},w={el:"#weddingRingsShow",components:{Carousel:_},data:function(){return{carouselState:!1,appointmentState:!1,title:"",weddingRing:"",hrefLangs:window.location.pathname.slice(0,3),langHref:"/"+window.location.pathname.slice(1,3),storeURL:"",customerItems:"",combinedUpperWeddingRings:"",combinedLowerWeddingRings:""}},watch:{$route:"fetchData"},created:function(){this.fetchData()},computed:{},methods:{fetchData:function(){var e=this;get("/api/weddingRings/".concat(window.location.pathname.slice(18))).then((function(t){e.weddingRing=t.data.model,e.customerItems=t.data.posts,e.UpperWeddingRings(),e.LowerWeddingRings()}))},UpperWeddingRings:function(){for(var e={images:[],video:null,video360:null},t=0;this.weddingRing.wedding_rings[0].images.length>t;t++)e.images.push(this.weddingRing.wedding_rings[0].images[t]),console.log(e),this.weddingRing.wedding_rings[1].images[t]&&e.images.push(this.weddingRing.wedding_rings[1].images[t]);return this.weddingRing.wedding_rings[0].video&&(e.video=[],e.video.push(this.weddingRing.wedding_rings[0].video)),this.weddingRing.wedding_rings[0].video360&&(e.video360=[],e.video360.push(this.weddingRing.wedding_rings[0].video360)),this.combinedUpperWeddingRings=e},LowerWeddingRings:function(){var e=[];if(this.customerItems.wedding_rings[0].invoices.length>0)for(var t=0;this.customerItems.wedding_rings[0].invoices.length>t;t++)this.customerItems.wedding_rings[0].invoices[t].invoice_posts.length>0&&"App/WeddingRing"==this.customerItems.wedding_rings[0].invoices[t].invoice_posts[0].postable_type&&0!=this.customerItems.wedding_rings[0].invoices[t].invoice_posts[0].published&&(e.push(this.customerItems.wedding_rings[0].invoices[t].invoice_posts[0]),console.log(e));return this.combinedLowerWeddingRings=e}}},k=[{Accessory:["Accessory","配飾","配飾"]},{Bracelet:["Bracelet","手鍊","手链"]},{"Bracelet Setting":["Bracelet Setting","手鍊托","手链托"]},{Necklace:["Necklace","項鍊","项链"]},{"Necklace Setting":["Necklace Setting","項鍊托","项链托"]},{Earring:["Earring","耳環","耳环"]},{"Earring Setting":["Earring Setting","耳環托","耳环托"]},{Pendant:["Pendant","吊咀","吊坠"]},{"Pendant Setting":["Pendant Setting","吊咀托","吊坠托"]},{Ring:["Ring","戒指","戒指"]},{Misc:["Misc","Misc","Misc"]},{"":["","",""]},{unit_price:["unit_price","價格","价格"]},{metal:["metal","金屬","金属"]},{type:["type","款式","款式"]},{gemstone:["gemstone","寶石","寶石"]},{setting:["setting","托","托"]},{sideStone:["side stone","輔石","辅石"]},{stock:["stock","款號","款号"]},{name:["name","名稱","名称"]},{description:["description","詳情描述","详情描述"]},{ct:["ct","重量","重量"]},{"Wedding Ring":["Wedding Ring","結婚對戒","结婚对戒"]},{"your name":["your name","客人稱呼","客人称呼"]},{"your Phone No.":["your Phone No.","客人電話號碼","客人电话号码"]},{Appointment:["Appointment","請預約","请预约"]},{"Details fo Appointment":["Details fo Appointment","預約詳情","预约详情"]},{"Contact Us":["Contact Us","聯絡我們","联络我们"]},{jewellery:["jewellery","首飾","首饰"]},{Pearl:["Pearl","珍珠","珍珠"]},{pearl:["pearl","珍珠","珍珠"]},{True:["Yes","是","是"]},{False:["No","否","否"]},{Yes:["Yes","是","是"]},{1:["Yes","是","是"]},{No:["No","否","否"]},{0:["No","否","否"]},{doesntHave:["No","無","無"]}],x=[{Solitaire:["Solitaire","單石","单石"]},{solitaire:["Solitaire","單石","单石"]},{"Side-stone":["Side-stone","輔石","辅石"]},{"side-stone":["Side-stone","輔石","辅石"]},{sideStone:["side-stone","輔石","辅石"]},{ct:["ct","重量","重量"]},{Halo:["Halo","圍圈","围圈"]},{halo:["Halo","圍圈","围圈"]},{"4-claw prong":["4-prong","四爪","四爪"]},{"6-claw prong":["6-prong","六爪","六爪"]},{"3-prong":["3-prong","三爪","三爪"]},{"4-prong":["4-prong","四爪","四爪"]},{"5-prong":["5-prong","五爪","五爪"]},{"6-prong":["6-prong","六爪","六爪"]},{"8-prong":["8-prong","八爪","八爪"]},{Tapering:["Tapering","尖臂","尖臂"]},{tapering:["Tapering","尖臂","尖臂"]},{Parallel:["Parallel","平臂","平臂"]},{parallel:["Parallel","平臂","平臂"]},{Twisted:["Twisted","扭臂","扭臂"]},{twisted:["Twisted","扭臂","扭臂"]},{prong:["prong","爪數","爪数"]},{unit_price:["unit_price","價格","价格"]},{Shoulder:["Shoulder","臂","臂"]},{shoulder:["shoulder","臂位","臂位"]},{stock:["stock","輔鑽石","辅钻石"]},{name:["name","名稱","名称"]},{description:["description","名稱","名称"]},{engagementRing:["Engagement Ring","求婚戒指","求婚戒指"]},{Ring:["Ring","戒指","戒指"]},{ring:["ring","戒指","戒指"]},{"Engagement Ring":["Engagement Ring","求婚戒指","求婚戒指"]},{"Engagement Ring Setting":["Engagement Ring Setting","求婚戒指托","求婚戒指托"]},{"your name":["your name","客人稱呼","客人称呼"]},{"your Phone No.":["your Phone No.","客人電話號碼","客人电话号码"]},{Appointment:["Appointment","請預約","请预约"]},{"Details fo Appointment":["Details fo Appointment","預約詳情","预约详情"]},{"Contact Us":["Contact Us","聯絡我們","联络我们"]},{Review:["Review","完成","完成"]},{undefined:["undefined","undefined","undefined"]},{True:["Yes","是","是"]},{False:["No","否","否"]},{Yes:["Yes","是","是"]},{1:["Yes","是","是"]},{No:["No","否","否"]},{0:["No","否","否"]}],V=[{Classic:["Classic","經典款式","经典款式"]},{classic:["Classic","經典款式","经典款式"]},{Japanese:["Japanese","日本款","日本款"]},{japanese:["Japanese","日本款","日本款"]},{Vintage:["Vintage","歐洲款","欧洲款"]},{vintage:["Vintage","歐洲款","欧洲款"]},{japan:["japan","日本","日本"]},{straight:["straight","直身","直身"]},{"v-shape":["v-shape","V形","V形"]},{wave:["wave","波浪","波浪"]},{cross:["cross","交叉","交叉"]},{"high polish":["high polish","光身","光身"]},{matte:["matte","噴沙","噴沙"]},{brushed:["brushed","拉絲","拉絲"]},{hammered:["hammered","錘面","錘面"]},{milgrain:["milgrain","珠邊","珠邊"]},{puzzle:["puzzle","拼合","拼合"]},{forge:["forge","鍛造","鍛造"]},{angerosa:["angerosa","angerosa","angerosa"]},{"feerie ported":["feerie ported","feerie ported","feerie ported"]},{"timeless ones":["timeless ones","timeless ones","timeless ones"]},{"18KW":["18K White Gold","18K白金","18K白金"]},{"18KY":["18K Yellow Gold","18K黃金","18K黃金"]},{"18KR":["18K Rose Gold","18K玫瑰","18K玫瑰"]},{"18KRG":["18K Rose Gold","18K玫瑰","18K玫瑰"]},{"18K White":["18K White Gold","18K白金","18K白金"]},{"18K Rose Gold":["18K Rose Gold","18K玫瑰金","18K玫瑰金"]},{PT:["PT","鉑金","鉑金"]},{"PT950/900":["PT","鉑金","鉑金"]},{Mixed:["Mixed","混金","混金"]},{Men:["Men","男士款式","男士款式"]},{Female:["Female","女士款式","女士款式"]},{m:["Men","男士款式","男士款式"]},{f:["Female","女士款式","女士款式"]},{unit_price:["unit_price","價格","价格"]},{metal:["metal","金屬","金属"]},{sideStone:["side stone","輔石","辅石"]},{stock:["stock","款號","款号"]},{name:["name","名稱","名称"]},{description:["description","詳情描述","详情描述"]},{ct:["ct","重量","重量"]},{"Wedding Ring":["Wedding Ring","結婚對戒","结婚对戒"]},{"your name":["your name","客人稱呼","客人称呼"]},{"your Phone No.":["your Phone No.","客人電話號碼","客人电话号码"]},{Appointment:["Appointment","請預約","请预约"]},{"Details fo Appointment":["Details fo Appointment","預約詳情","预约详情"]},{"Contact Us":["Contact Us","聯絡我們","联络我们"]},{True:["Yes","是","是"]},{False:["No","否","否"]},{Yes:["Yes","是","是"]},{1:["Yes","是","是"]},{No:["No","否","否"]},{0:["No","否","否"]}],S={el:"#jewellery",components:{Appointment:l,Carousel:_},data:function(){return{isRemoving:!1,carouselState:!1,appointmentState:!1,title:"",langs:p.concat(x,V,k),text:{jewellery:"jewellery"},hrefLangs:window.location.pathname.slice(0,3),jewellery:"",columns:["unit_price","type","gemstone","metal","ct","stock","setting"],storeURL:"",customerItems:""}},watch:{$route:"fetchData"},beforeMount:function(){this.fetchData()},filters:{transJs:r},computed:{appointmentTitle:function(){return r(this.jewellery.metal,this.langs,this.locale)+" "+r(this.jewellery.type,this.langs,this.locale)+" "+r(this.text.jewellery,this.langs,this.locale)},locale:function(){return"en"==window.location.pathname.slice(1,3)?0:"hk"==window.location.pathname.slice(1,3)?1:"cn"==window.location.pathname.slice(1,3)?2:void 0}},methods:{fetchData:function(){var e=this;o("/api/jewellery/".concat(window.location.pathname.slice(14))).then((function(t){e.jewellery=t.data.model,e.filterNotPostable(t.data.posts.invoicePosts)}))},filterNotPostable:function(e){for(var t=this.jewellery.id,i=[],n=0;e.length>n;n++)"App/Jewellery"==e[n].postable_type&&e[n].postable_id==t&&i.push(e[n]);this.customerItems=i}}},T={el:"#customerJewelleryShow",components:{videoPlayer:C,ProductViewer:I},data:function(){return{mutualVar,isRemoving:!1,post:{invoice:{},content:[]},videoOpts:[{videoEng:""},{videoWed:""},{videoJew:""},{videoPost:""}],videoPath:mutualVar.storage[mutualVar.storage.live]+"public/videos/",imagePath:mutualVar.storage[mutualVar.storage.live]+"public/images/",langs:p.concat(x,V),invoice:"",published:{engagementRings:0,weddingRings:0,jewelleries:0},langHref:"/"+window.location.pathname.slice(1,3),video360:""}},watch:{$route:"fetchData"},beforeMount:function(){this.fetchData()},filters:{transJs:r},methods:{transJsMet:function(e,t,i){return r(e,t,i)},fetchData:function(){var e=this;get("/api/invoicePosts/".concat(window.location.pathname.slice(23)),window.location.pathname.slice(1,3)).then((function(t){e.post=t.data.model,e.invoice=t.data.invoice,e.ProceedVideoEng(),e.ProceedVideoWed(),e.ProceedVideoJew(),e.ProceedVideoPost(),e.setPublished(),e.setVideo360()}))},setVideo360:function(){this.video360={src:this.post.video360,type:"video360",thumb:mutualVar.storage[mutualVar.storage.live]+"public/video360/"+this.post.video360+"/thm-0.jpg",size:120,rotate:1,fileName:mutualVar.css.innerWidth<500?"thm-":""}},setPublished:function(){this.post.invoice.engagement_rings[0]&&this.post.invoice.engagement_rings[0].published&&(this.published.engagementRings=this.post.invoice.engagement_rings[0].published),this.post.invoice.wedding_rings[0]&&this.post.invoice.wedding_rings[0].published&&(this.published.weddingRings=this.post.invoice.wedding_rings[0].published),this.post.invoice.jewelleries[0]&&this.post.invoice.jewelleries[0].published&&(this.published.jewelleries=this.post.invoice.jewelleries[0].published)},generateOptions:function(){return{muted:!0,language:"en",playbackRates:[.7,1,1.5,2],sources:[{type:"video/mp4",src:"/videos/"}],poster:"/images/",fluid:!0,autoplay:""}},ProceedVideoEng:function(){var e=this.generateOptions();this.post.invoice.engagement_rings[0]&&this.post.invoice.engagement_rings[0].published&&(this.videoOpts[0].videoEng=e,this.videoOpts[0].videoEng.sources[0].src=this.videoPath+this.post.invoice.engagement_rings[0].video,this.videoOpts[0].videoEng.poster=this.imagePath+this.post.invoice.engagement_rings[0].images.filter((function(e){return"cover"==e.type}))[0].image)},ProceedVideoWed:function(){var e=this.generateOptions();this.post.invoice.wedding_rings[0]&&this.post.invoice.wedding_rings[0].published&&(this.videoOpts[1].videoWed=e,this.videoOpts[1].videoWed.sources[0].src=this.videoPath+this.post.invoice.wedding_rings[0].video,this.videoOpts[1].videoWed.poster=this.imagePath+this.post.invoice.wedding_rings[0].images.filter((function(e){return"cover"==e.type}))[0].image)},ProceedVideoPost:function(){var e=this.generateOptions();this.post.video&&(this.videoOpts[3].videoPost=e,this.videoOpts[3].videoPost.sources[0].src=this.videoPath+this.post.video,this.videoOpts[3].videoPost.poster=this.imagePath+this.post.images.filter((function(e){return"cover"==e.type}))[0].image)},ProceedVideoJew:function(){var e=this.generateOptions();this.post.invoice.jewelleries[0]&&"Misc"!=this.post.invoice.jewelleries[0].type&&this.post.invoice.jewelleries[0].published&&(this.videoOpts[2].videoJew=e,this.videoOpts[2].videoJew.sources[0].src=this.videoPath+this.post.invoice.jewelleries[0].video,this.videoOpts[2].videoJew.poster=this.imagePath+this.post.invoice.jewelleries[0].images.filter((function(e){return"cover"==e.type}))[0].image)}}},R=[{True:["Yes","是","是"]},{False:["No","否","否"]},{Yes:["Yes","是","是"]},{1:["Yes","是","是"]},{No:["No","否","否"]},{0:["No","否","否"]}];function P(e){return document.head.querySelector('meta[name="'.concat(e,'"]'))?document.head.querySelector('meta[name="'.concat(e,'"]')).content:null}window.getMeta=P;const A={cookiesInfo:{cookieLast:60,diamondSearch:"",engagementSearch:"",weddingRingSearch:"",jewellery:"",coupon_code:"",shoppingCart:{items:[],haveShoppingCart:0,selectingIndex:0,selectingPairIndex:0,selectingType:"",modalActive:0,mode:"create"},checkout:{balancePaymentMethod:"VISA",subTotal:0,discountedSubTotal:0,discountedDeposit:0,deposit:0,depositPaymentMethod:"VISA",balance:0,processingOrderId:""},shoppingCartCarousel:{items:[]}},notification:{state:{success:null,error:null}},langs:{localeCode:e(),locale:t()},storage:{live:"cfront",s3:"https://s3.tingdiamond.com/",cfront:P("meta-js-cfront")},screen:{x:0,y:0,scrollable:!1},namepath:window.location.pathname.slice(3),css:{jsReady:!0,innerWidth:0},tabs:{sideBar:"4cs"},status:{isProcessing:!1}};const D={el:"#customerJewelleryIndex",components:{ImageCarousel:c({name:"imageCarousel",props:{items:{Type:Array},active:"",title:""},created:function(){this.currentIndex=0},data:function(){return{mutualVar:A,currentIndex:0,showUpper:!0,youtube:"http://www.youtube.com/embed/",rel:"?rel=0",images:A.storage[A.storage.live]+"public/images/"}},methods:{nextItem:function(){this.currentIndex==this.items.length-1?this.currentIndex=0:this.currentIndex++},prevItem:function(){this.currentIndex<1?this.currentIndex=this.items.length-1:this.currentIndex--},showAtIndex:function(e){this.currentIndex=e},currentSelectedItem:function(e){this.currentIndex=e}},computed:{currentItem:function(){return this.carouselItemsToArray[this.currentIndex]},carouselItemsToArray:function(){this.currentIndex=0;var e=[];if(!this.items)return e.push({src:"",type:"",thumb:""});for(var t=this.items.length-1;t>=0;t--)this.items[t].image&&e.push({src:this.items[t].image,type:"img",thumb:this.items[t].image});return e},chunkedItemsDesktop:function(){var e,t=[],i=[];return this.items?this.currentIndex<=2?(t=this.carouselItemsToArray.slice(0,4),i=this.carouselItemsToArray.slice(4,this.carouselItemsToArray.length).fill(""),t.concat(i)):(t=this.carouselItemsToArray.slice(0,this.currentIndex-2).fill(""),i=this.carouselItemsToArray.slice(this.currentIndex-2,this.currentIndex+2),e=this.carouselItemsToArray.slice(this.currentIndex+2,this.carouselItemsToArray.length).fill(""),t.concat(i,e)):t},chunkedItemsMobile:function(){var e,t=[],i=[];return this.items?this.currentIndex<=1?(t=this.carouselItemsToArray.slice(0,3),i=this.carouselItemsToArray.slice(3,this.carouselItemsToArray.length).fill(""),t.concat(i)):(t=this.carouselItemsToArray.slice(0,this.currentIndex-1).fill(""),i=this.carouselItemsToArray.slice(this.currentIndex-1,this.currentIndex+2),e=this.carouselItemsToArray.slice(this.currentIndex+2,this.carouselItemsToArray.length).fill(""),t.concat(i,e)):t}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.active?i("div",{on:{click:function(t){return e.$emit("active",null)}}},[i("transition",{attrs:{name:"modal",click:"mutualVar.notification.contactMessage.active = !mutualVar.notification.contactMessage.active"}},[i("div",{staticClass:"modal-mask"},[i("button",{staticClass:"modal-button",attrs:{tabindex:"-1"}}),e._v(" "),i("div",{staticClass:"modal-wrapper"},[i("div",{staticClass:"modal-dialog",attrs:{role:"document"},on:{click:function(t){e.mutualVar.notification.contactMessage.active=!e.mutualVar.notification.contactMessage.active}}},[i("div",{staticClass:"modal-content"},[i("div",{staticClass:"modal-header"},[i("h5",{staticClass:"modal-title"},[e._v(e._s(e.title)+" ")]),e._v(" "),i("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[i("span",{attrs:{"aria-hidden":"true"},on:{click:function(t){e.mutualVar.notification.contactMessage.active=!e.mutualVar.notification.contactMessage.active}}},[e._v("×")])])]),e._v(" "),i("div",{staticClass:"modal-body",on:{click:function(t){return e.$emit("active",null)}}},[i("div",{staticClass:"flex justify-center"},[i("div",{},[i("button",{staticClass:"btn box bg-blue-300 text-white",on:{click:function(t){return e.currentSelectedItem(0)}}},[e._v(e._s(0))]),e._v(" "),i("button",{staticClass:"btn box",on:{click:function(t){return e.prevItem()}}},[e._v(e._s(e.currentIndex-1>0?e.currentIndex-1:0))]),e._v(" "),i("button",{staticClass:"btn btn-primary"},[e._v(e._s(e.currentIndex+1))]),e._v(" "),i("button",{staticClass:"btn box",on:{click:function(t){return e.nextItem()}}},[e._v(e._s(e.currentIndex+2<e.items.length?e.currentIndex+2:e.items.length))]),e._v(" "),i("button",{staticClass:"btn box bg-blue-300 text-white",on:{click:function(t){return e.currentSelectedItem(e.items.length-1)}}},[e._v(e._s(e.items.length))])])]),e._v(" "),i("div",{staticClass:"box"},[i("div",{},["img"==e.currentItem.type?i("img",{attrs:{src:e.images+e.currentItem.src},on:{click:e.nextItem}}):e._e(),e._v(" "),i("figcaption",{staticClass:"has-text-centered"},[i("p",{staticClass:"title is-3"},[e._v(e._s(e.currentItem.title))]),e._v(" "),i("p",{staticClass:"subtitle is-5"},[e._v(" "+e._s(e.currentItem.desc)+" ")]),e._v(" "),i("span",{domProps:{innerHTML:e._s(e.currentItem.other)}})])])])])])])])])])],1):e._e()}),[],!1,null,null,null).exports},data:function(){return{mutualVar,query:{per_page:10},langs:R,customers:[],chunkedItemsDesktop:{},chunkedItemsMobile:{},carouselActive:!1,carouselItems:"",scrolled:!1,originY:900}},watch:{$route:"fetchData"},beforeMount:function(){this.fetchData()},created:function(){window.addEventListener("scroll",this.handleScroll)},destroyed:function(){window.removeEventListener("scroll",this.handleScroll)},computed:{locale:function(){return"en"==window.location.pathname.slice(1,3)?0:"hk"==window.location.pathname.slice(1,3)?1:"cn"==window.location.pathname.slice(1,3)?2:void 0}},filters:{transJs:r},methods:{selectedCarouselItems:function(e){this.carouselItems=e,this.carouselActive=!this.carouselActive},more:function(){this.query.per_page+=10,this.fetchData()},handleScroll:function(){window.pageYOffset>this.originY&&(this.originY+=900,this.more())},chunkItems:function(){for(var e=[],t=[],i=0;this.customers.data.length-1>=i;)e.push(this.customers.data.slice(i,i+4)),i+=4;this.chunkedItemsDesktop=e;for(i=0;this.customers.data.length-1>=i;)t.push(this.customers.data.slice(i,i+2)),i+=2;this.chunkedItemsMobile=t},clickRow:function(e,t){this.onClickedRow=e.id,window.open("customer-jewellries/"+e.id)},fetchData:function(){var e=this;o("/api/customerMoments?per_page=".concat(this.query.per_page),window.location.pathname.slice(1,3)).then((function(t){e.customers=t.data.customers,e.chunkItems()}))}}},N={el:"#education",data:function(){return{query:{per_page:10},mutualVar,langs:R,posts:[],chunkedItemsDesktop:{},chunkedItemsMobile:{},activedSubTab:"carat"}},watch:{$route:"fetchData"},beforeMount:function(){return this.fetchData(),window.location.pathname.includes("education-diamond-grading/gia-report/4cs")?this.activedSubTab=window.location.pathname.slice(45)?window.location.pathname.slice(45):"carat":window.location.pathname.includes("education-diamond-grading/gia-report/")?this.activedSubTab=window.location.pathname.slice(41)?window.location.pathname.slice(41):"carat":void(this.activedSubTab=window.location.pathname.slice(30)?window.location.pathname.slice(30):"carat")},computed:{locale:function(){return{en:0,hk:1,cn:2}[window.location.pathname.slice(1,3)]}},filters:{transJs:r},methods:{activeSubTab:function(e){this.activedSubTab=e},more:function(){this.query.per_page+=10,this.fetchData()},chunkItems:function(){for(var e=[],t=[],i=0;this.posts.data.length-1>=i;)e.push(this.posts.data.slice(i,i+4)),i+=4;this.chunkedItemsDesktop=e;for(i=0;this.posts.data.length-1>=i;)t.push(this.posts.data.slice(i,i+2)),i+=2;this.chunkedItemsMobile=t},clickRow:function(e,t){this.onClickedRow=e.id,window.open("customer-jewellries/"+e.id,"_self")},fetchData:function(){var e=this;o("/api/invPosts?per_page=".concat(this.query.per_page),window.location.pathname.slice(1,3)).then((function(t){e.posts=t.data.posts}))}}};function M(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return function(e){e=e||0;var i=new Date,n={dates:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],months:["January","February","March","April","May","June","July","August","September","October","November","December"]};return i.setDate(i.getDate()+e),"months"==t?n[t][i.getMonth()]:"dates"==t?n[t][i.getDay()]:""==t?i.getDate():void 0}(e)}const O=c({props:["clickable","deposit","paymentmodalactive","user","title","billformdata"],data:function(){return{formData:{stripeEmail:"",stripeToken:""},mutualVar,stripe:"",error:""}},created:function(){},methods:{buy:function(){this.StripeConFigure(),this.stripe.open({name:"Ting Diamond Limited",description:this.title,zipCode:!0,amount:100*this.deposit,currency:"hkd"})},StripeConFigure:function(){var e=this;this.stripe=StripeCheckout.configure({key:StripeVariables.stripeKey,image:"/images/front-end/logo/logo_2019_grey.png",locale:"auto",email:this.user.email,token:function(t){e.formData.stripeToken=t.id,e.formData.stripeEmail=t.email,console.log(e.billformdata),e.billformdata.depositPaymentMethod="VISA",e.billformdata.stripeToken=t.id,mutualVar.status.isProcessing=!0,post("/api/place-order",e.billformdata).then((function(t){t.data.saved&&(e.receivedPayment(t.data.message),mutualVar.status.isProcessing=!1)})).catch((function(t){e.$emit("paymentModalActive",null),mutualVar.notification.state.error=t.response.data.message}))}})},receivedPayment:function(e){mutualVar.cookiesInfo.shoppingCart.items=[],mutualVar.cookiesInfo.shoppingCart.selectingIndex=0,this.$parent.sendCookies(),this.$parent.updateCartItems(),window.open(mutualVar.langs.locale+"/thank-you","_self")}}},(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("button",{staticClass:"btn btn-primary is-large",attrs:{href:"",disabled:0==e.clickable,type:"submit"},on:{click:function(t){return t.preventDefault(),e.buy(t)}}},[i("center",[i("i",{staticClass:"fab fa-cc-mastercard"}),i("i",{staticClass:"fab fa-cc-visa"}),e._v("\n\t      \tVISA / Master\n      \t")])],1),e._v(" "),i("form",{attrs:{action:"/purchases",method:"POST"}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.stripeToken,expression:"formData.stripeToken"}],attrs:{type:"hidden",name:"stripeToken"},domProps:{value:e.formData.stripeToken},on:{input:function(t){t.target.composing||e.$set(e.formData,"stripeToken",t.target.value)}}}),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.formData.stripeEmail,expression:"formData.stripeEmail"}],attrs:{type:"hidden",name:"stripeEmail"},domProps:{value:e.formData.stripeEmail},on:{input:function(t){t.target.composing||e.$set(e.formData,"stripeEmail",t.target.value)}}})])])}),[],!1,null,null,null).exports;var E;function U(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}const J=c((U(E={data:function(){return{mutualVar,langs,selectingCarousel:"engagementRings",maxDeliveryDate:!1,extraWorkingDates:M,showCheckout:0,couponValid:null,discountRate:"",ringSizeOptions:[null,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22],paymentOptions:[{name:"VISA",discount:1},{name:"ESP(-1%)",discount:.99},{name:"Alipay(-1%)",discount:.99},{name:"Wechat(-1%)",discount:.99},{name:"Cash(-2%)",discount:.98}],apiToken:getMeta("api-token"),shortenName:mutualVar.cookiesInfo.shoppingCart.items,model:""}},watch:{},filters:{transJs:r},created:function(){this.fetchCookies(),this.deleteNotAddedToCart(),mutualVar.cookiesInfo.shoppingCart.items.length>0&&this.updateCartItems(),0==mutualVar.cookiesInfo.shoppingCart.items.length&&this.fetchCartItems(),this.checkAvailableOfDiamond(),this.apiToken&&this.authGetCouponCode()},mounted:function(){a("coupon_code")&&this.checkCouponCodeValid(),this.updateDiscountedPrices()},computed:{carousel:function(){return mutualVar.cookiesInfo.shoppingCartCarousel.items[mutualVar.cookiesInfo.shoppingCart.selectingIndex]},types:function(){return{engagementRings:["engagementRing","diamond","review"],diamonds:["diamond","engagementRing","review"]}[this.selectingType]},selectingType:function(){for(var e="",t=[{url:"gia-loose-diamonds",type:"diamonds"},{url:"engagement-rings",type:"engagementRings"}],i=0;t.length>i;i++)window.location.pathname.includes(t[i].url)&&(e=t[i].type);return e},locale:function(){return t()},windowHref:function(){return window.location.href},calculatedDiscountRate:function(){for(var e=0;this.paymentOptions.length>e;e++)if(this.paymentOptions[e].name==mutualVar.cookiesInfo.checkout.balancePaymentMethod)return this.paymentOptions[e].discount},subTotal:function(){for(var e=0,t=0;this.shortenName.length>t;t++)for(var i=0;this.shortenName[t].pairItems.length>i;i++)e+=parseInt(this.shortenName[t].pairItems[i].unit_price),this.maxDeliveryDate<this.shortenName[t].pairItems[i].delivery&&(this.maxDeliveryDate=this.shortenName[t].pairItems[i].delivery);return mutualVar.cookiesInfo.checkout.deposit=parseInt(.2*e),mutualVar.cookiesInfo.checkout.deposit>1e4&&(mutualVar.cookiesInfo.checkout.deposit=1e4),e>3e3&&e<15e3&&(mutualVar.cookiesInfo.checkout.deposit=3e3),e<=3e3&&(mutualVar.cookiesInfo.checkout.deposit=e),mutualVar.cookiesInfo.checkout.subTotal=e},discountedSubTotal:function(){for(var e=0,t=this.calculatedDiscountRate,i=0;this.shortenName.length>i;i++)for(var n=0;this.shortenName[i].pairItems.length>n;n++)this.shortenName[i].pairItems[n].discounted_unit_price>8e4&&(t=1),e+=parseInt(this.shortenName[i].pairItems[n].discounted_unit_price*t),t=this.calculatedDiscountRate;return e=Math.floor(e),mutualVar.cookiesInfo.checkout.discountedSubTotal=e},balance:function(){var e=0;return this.couponValid||1!=this.calculatedDiscountRate?(mutualVar.cookiesInfo.checkout.discountedDeposit=mutualVar.cookiesInfo.checkout.deposit,e=this.discountedSubTotal-mutualVar.cookiesInfo.checkout.discountedDeposit):e=this.subTotal-mutualVar.cookiesInfo.checkout.deposit,mutualVar.cookiesInfo.checkout.balance=e},checkoutClickable:function(){for(var e=mutualVar.cookiesInfo.shoppingCart.items,t=1,i=0;e.length>i;i++)for(var n=0;e[i].pairItems.length>n;n++)1!=e[i].pairItems[n].available&&(t=0);return t}}},"filters",{transJs:r}),U(E,"methods",{fetchCookies:function(){localStorage.getItem("shoppingCart")&&(mutualVar.cookiesInfo.shoppingCart=JSON.parse(decodeURIComponent(localStorage.getItem("shoppingCart")))),a("coupon_code")&&(mutualVar.cookiesInfo.coupon_code=a("coupon_code")),a("checkout")&&(mutualVar.cookiesInfo.checkout=JSON.parse(a("checkout")))},sendCookies:function(){var e=mutualVar.cookiesInfo.shoppingCart;this.shortenName=mutualVar.cookiesInfo.shoppingCart.items,localStorage.setItem("shoppingCart",encodeURIComponent(JSON.stringify(e)),10080),n("coupon_code",mutualVar.cookiesInfo.coupon_code,10080),n("checkout",JSON.stringify(mutualVar.cookiesInfo.checkout),10080)},updateCartItems:function(){var e=this,t={api_token:this.apiToken,data:mutualVar.cookiesInfo.shoppingCart.items,order:0};this.apiToken&&(post("/api/update-cart-items",t).then((function(t){e.model=t.data.model})),this.sendCookies())},fetchCartItems:function(){var e=this,t={api_token:this.apiToken,data:mutualVar.cookiesInfo.shoppingCart.items,order:0};this.apiToken&&(post("/api/fetch-cart-items",t).then((function(t){e.model=t.data.model,e.model.length>0&&e.assignCartItems()})),this.sendCookies())},assignCartItems:function(){function e(e,t){var n={id:"",image:"",unit_price:"",title:"",url:"",type:"",ringSize:0,available:1,engrave:""};t.length==e.pair_item_id&&(t.push({pairItems:[],addedCart:1}),console.log("hi")),n.id=e.cart_itemable_id,n.type=i[e.cart_itemable_type].type,n.engrave=e.engrave,n.image=e.image,n.ringSize=e.ring_size,n.title=e.title,n.unit_price=e.unit_price,n.url=i[e.cart_itemable_type].url,console.log(n),t[e.pair_item_id].pairItems.push(n)}for(var i={"App/Diamond":{type:"diamonds",url:t()+"/gia-loose-diamonds/"},"App/EngagementRing":{type:"engagementRings",url:t()+"/engagement-rings/"},"App/Jewellery":{type:"mountingFee",url:t()+"/buying-procedure/diamond-inlay-engrave"}},n=0;this.model.length>n;n++)e(this.model[n],mutualVar.cookiesInfo.shoppingCart.items);this.sendCookies()},discountedCouponPrice:function(e,t){for(var i=0;this.discountRate.length>i;i++)if("engagementRings"==t.type&&e<this.discountRate[i].upperAmount)return Math.round(e*(1-this.discountRate[i].rate));return e},updateDiscountedPrices:function(){for(var e=mutualVar.cookiesInfo.shoppingCart.items,t=mutualVar.cookiesInfo.shoppingCart.items,i=0;e.length>i;i++)for(var n=0;e[i].pairItems.length>n;n++)e[i].pairItems[n].discounted_unit_price=this.discountedCouponPrice(t[i].pairItems[n].unit_price,e[i].pairItems[n])},checkCouponCodeValid:function(){var e=this;get("/api/coupon/valid?code="+mutualVar.cookiesInfo.coupon_code).then((function(t){e.couponValid=t.data.valid,e.discountRate=t.data.model,t.data.valid&&e.updateDiscountedPrices()})),this.sendCookies()},authGetCouponCode:function(){var e=this;get("/api/fetch-customer-coupon-code").then((function(t){t.data.valid&&(e.couponValid=t.data.valid,e.discountRate=t.data.model,mutualVar.cookiesInfo.coupon_code=t.data.coupon_code.code,e.updateDiscountedPrices())})),this.sendCookies()},checkAvailableOfDiamond:function(){var e=mutualVar.cookiesInfo.shoppingCart.items;function t(e,t,i){"diamonds"==e.type&&get("/api/diamonds/"+e.id).then((function(t){e.available=t.data.diamond.available,e.unit_price=t.data.diamond.price}))}for(var i=0;e.length>i;i++)for(var n=0;e[i].pairItems.length>n;n++){t(mutualVar.cookiesInfo.shoppingCart.items[i].pairItems[n])}this.sendCookies()},shiftIndex:function(e){mutualVar.cookiesInfo.shoppingCart.selectingIndex=e,this.sendCookies()},addItemSample:function(){mutualVar.cookiesInfo.shoppingCart.items.push({addedCart:0,pairItems:[]})},deleteNotAddedToCart:function(){for(var e=0;this.shortenName.length>e;e++)0!=this.shortenName[e].addedCart&&0!=this.shortenName[e].pairItems.length||mutualVar.cookiesInfo.shoppingCart.items.splice(e,1);mutualVar.cookiesInfo.shoppingCart.selectingIndex=this.shortenName.length,this.sendCookies()},directTo:function(e){var i=0;mutualVar.cookiesInfo.shoppingCart.mode="edit",this.sendCookies(),Number.isInteger(e)?i=mutualVar.cookiesInfo.shoppingCart.items[mutualVar.cookiesInfo.shoppingCart.selectingIndex].pairItems[e].url+mutualVar.cookiesInfo.shoppingCart.items[mutualVar.cookiesInfo.shoppingCart.selectingIndex].pairItems[e].id:("engagementRings"==e&&(i="/engagement-rings"),"diamonds"==e&&(i="/gia-loose-diamonds"),"/shopping-cart/"==e&&(i="/shopping-cart/"),i=t()+i),window.open(i,"_self")},removeItem:function(e){mutualVar.cookiesInfo.shoppingCart.items.splice(e,1),this.sendCookies(),this.updateCartItems()},addItemToCart:function(){mutualVar.cookiesInfo.shoppingCart.items[mutualVar.cookiesInfo.shoppingCart.selectingIndex].addedCart=1,mutualVar.cookiesInfo.shoppingCart.selectingIndex+=1,mutualVar.cookiesInfo.shoppingCart.items.push({addedCart:0,pairItems:[]}),this.sendCookies(),this.directTo("/shopping-cart/")}}),E),(function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"p-4"},[e._l(e.shortenName,(function(t,n){return i("div",{staticClass:"grid grid-cols-12 border rounded mt-1"},[t.pairItems.length>0?i("div",{staticClass:"col-span-12"},[i("div",{on:{click:function(t){return e.shiftIndex(n)}}},[i("div",{staticClass:"flex justify-between items-center text-white p-1",class:t.pairItems.filter((function(e){return 1!=e.available})).length?"bg-red-300":"bg-blue-300"},[i("div",{staticClass:"px-4"},[i("p",{staticClass:"text-xl font-light"},[i("strong",[e._v(e._s(e._f("transJs")(t.pairItems[0].type,e.langs,e.mutualVar.langs.localeCode))+" ")]),t.pairItems[1]?i("strong",[e._v(" + "+e._s(e._f("transJs")(t.pairItems[1].type,e.langs,e.mutualVar.langs.localeCode)))]):e._e()])]),e._v(" "),i("div",{staticClass:"sm:px-4"},[i("a",{attrs:{href:t.pairItems[0].url+t.pairItems[0].id},on:{click:function(i){return e.directTo(t.pairItems[0].id)}}},[i("button",{staticClass:"btn btn-primary",class:t.pairItems.filter((function(e){return 1!=e.available})).length?"bg-red-500":"btn-primary"},[e._v(e._s(e._f("transJs")("Back to",e.langs,e.mutualVar.langs.localeCode))+e._s(e._f("transJs")(t.pairItems[0].type,e.langs,e.mutualVar.langs.localeCode)))])]),e._v(" "),i("button",{staticClass:"btn btn-primary",class:t.pairItems.filter((function(e){return 1!=e.available})).length?"bg-red-500":"btn-primary",on:{click:function(t){return e.removeItem(n)}}},[e._v(e._s(e._f("transJs")("Remove",e.langs,e.mutualVar.langs.localeCode))+"  "),i("i",{staticClass:"fa fa-times-circle"})])])]),e._v(" "),e._l(t.pairItems,(function(n,a){return i("div",[i("div",{staticClass:"grid grid-cols-12 text-grey-300 border-b",class:t.pairItems.filter((function(e){return 1!=e.available})).length?"bg-red-100":"bg-blue-100"},[i("div",{staticClass:"col-span-9"},[i("div",{staticClass:"grid grid-cols-12 "},[i("div",{staticClass:"col-span-4"},[i("div",{staticClass:"flex justify-center"},[i("a",{attrs:{href:""+n.url+("mountingFee"==n.type?"":n.id)},on:{click:function(t){return e.directTo(n.id)}}},[i("img",{staticClass:"arounded border w-32 sm:w-48",attrs:{src:n.image},on:{click:function(t){e.selectingCarousel=n.type}}})])])]),e._v(" "),i("div",{staticClass:"col-span-8 text-center"},[i("a",{staticClass:"text-blue-600",attrs:{href:""+n.url+("mountingFee"==n.type?"":n.id)},on:{click:function(t){return e.directTo(n.id)}}},[e._v(e._s(n.title))]),e._v(" "),"engagementRings"==n.type?i("div",[i("div",{staticClass:"flex justify-center"},[i("div",{staticClass:"bg-gray-300 p-1 rounded"},[i("label",{attrs:{for:"inputGroupSelect01"}},[e._v("\n                                                "+e._s(e._f("transJs")("Ring Size",e.langs,e.mutualVar.langs.localeCode))+"\n                                            ")])]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:n.ringSize,expression:"pairItem.ringSize"}],staticClass:"rounded",attrs:{id:"inputGroupSelect01"},on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(n,"ringSize",t.target.multiple?i:i[0])}}},e._l(e.ringSizeOptions,(function(t){return i("option",{domProps:{value:t}},[e._v(e._s(t))])})),0)]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:n.engrave,expression:"pairItem.engrave"}],staticClass:"input is-small",attrs:{id:"inputGroupSelect01",type:"text",name:"",placeholder:e._f("transJs")("Engrave",e.langs,e.mutualVar.langs.localeCode)},domProps:{value:n.engrave},on:{input:function(t){t.target.composing||e.$set(n,"engrave",t.target.value)}}})]):e._e()])])]),e._v(" "),i("div",{staticClass:"col-span-3"},[i("div",{staticClass:"grid grid-cols-12"},[i("div",{staticClass:"col-span-6"},[i("a",{staticClass:"text-blue-600",attrs:{href:n.url},on:{click:function(t){return e.directTo()}}},[i("u",[e._v(e._s(e._f("transJs")("change",e.langs,e.mutualVar.langs.localeCode)))])])]),e._v(" "),i("div",{staticClass:"col-span-6",on:{click:function(t){e.selectingCarousel=n.type}}},[i("img",{attrs:{width:"32",src:"/images/front-end/shoppingCart/"+n.type+".png"}}),e._v(" "),e.couponValid?i("div",[n.available?i("a",[n.discounted_unit_price&&n.discounted_unit_price!=n.unit_price?i("del",[e._v("\n                                            "+e._s("$"+n.unit_price)+"\n                                            ")]):e._e(),e._v(" "),n.discounted_unit_price&&n.discounted_unit_price!=n.unit_price?i("p",{staticStyle:{color:"red"}},[e._v(e._s("$"+n.discounted_unit_price))]):e._e()]):e._e()]):e._e(),e._v(" "),e.couponValid&&n.discounted_unit_price!=n.unit_price?e._e():i("div",[i("p",{staticClass:"text-lg font-light text-gray-700"},[e._v(e._s("$"+n.unit_price))])]),e._v(" "),n.available?e._e():i("p",{staticStyle:{color:"red"}},[i("strong",[e._v(e._s("sold"))])])])])])])])}))],2)]):e._e()])})),e._v(" "),i("div",{staticClass:"grid grid-cols-12 p-1"},[i("div",{staticClass:"col-span-12 sm:col-span-8"},[i("div",{staticClass:"grid grid-cols-12"},[i("div",{staticClass:"col-span-12 p-2"},[i("p",[e._v(e._s(e._f("transJs")("Precautions",e.langs,e.mutualVar.langs.localeCode))+"：")]),e._v(" "),i("small",[i("p",[e._v(e._s(e._f("transJs")("All amounts of the company are subject to Hong Kong dollar settlement",e.langs,e.mutualVar.langs.localeCode)))]),e._v(" "),i("p",[e._v(e._s(e._f("transJs")("The customer is required to pay the full amount and withdraw the goods within two months after the order is placed, otherwise the company reserves the right to terminate the transaction.",e.langs,e.mutualVar.langs.localeCode)))]),e._v(" "),i("p",[e._v(e._s(e._f("transJs")("In order to protect the interests of both parties, unless the diamond does not match the GIA report, the order will not be returned after confirmation.",e.langs,e.mutualVar.langs.localeCode)))])]),e._v(" "),i("br"),e._v(" "),i("div",{staticClass:"rounded border text-center p-10"},[e.maxDeliveryDate?i("p",[e._v(e._s(e._f("transJs")("Today Order, Diamond Gets Free shipment",e.langs,e.mutualVar.langs.localeCode))+"\n                            "),i("strong",[e._v(e._s(e._f("transJs")("On",e.langs,e.mutualVar.langs.localeCode))+" "),i("a",{staticClass:"text-blue-600"},[e._v(" "+e._s(e._f("transJs")(e.extraWorkingDates(e.maxDeliveryDate,"months"),e.langs,e.mutualVar.langs.localeCode))+" "+e._s(e.extraWorkingDates(e.maxDeliveryDate))+" "+e._s(e._f("transJs")("day",e.langs,e.mutualVar.langs.localeCode))+",  "+e._s(e._f("transJs")(e.extraWorkingDates(e.maxDeliveryDate,"dates"),e.langs,e.mutualVar.langs.localeCode)))])])]):e._e()])])])]),e._v(" "),i("div",{staticClass:"col-span-12 sm:col-span-4"},[i("div",{staticClass:"grid grid-cols-12"},[i("div",{staticClass:"col-span-12"},[i("div",{staticClass:"flex"},[i("div",{staticClass:"input-group-prepend"},[i("button",{staticClass:"btn btn-primary is-small",attrs:{type:"button",id:"button-addon1"},on:{click:e.checkCouponCodeValid}},[e._v(e._s(e._f("transJs")("Apply Coupon",e.langs,e.mutualVar.langs.localeCode)))])]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.mutualVar.cookiesInfo.coupon_code,expression:"mutualVar.cookiesInfo.coupon_code"}],staticClass:"input",attrs:{type:"text",placeholder:e._f("transJs")("Enter Coupon Code",e.langs,e.mutualVar.langs.localeCode),"aria-label":"Example text with button addon","aria-describedby":"button-addon1"},domProps:{value:e.mutualVar.cookiesInfo.coupon_code},on:{focus:function(e){return e.target.select()},input:function(t){t.target.composing||e.$set(e.mutualVar.cookiesInfo,"coupon_code",t.target.value)}}}),e._v(" "),0==e.couponValid?i("p",{staticStyle:{color:"red"}},[i("small",[e._v(e._s(e._f("transJs")("not valid",e.langs,e.mutualVar.langs.localeCode)))])]):e._e()])])]),e._v(" "),i("div",{staticClass:"grid grid-cols-12"},[i("div",{staticClass:"col-span-6"},[e.couponValid||1!=e.calculatedDiscountRate?i("div",[i("p",[e._v(e._s(e._f("transJs")("Total",e.langs,e.mutualVar.langs.localeCode))+" ")]),e._v(" "),i("p",{staticClass:"text-red-500"},[e._v(e._s(e._f("transJs")("Disounted Total",e.langs,e.mutualVar.langs.localeCode)))])]):i("div",[i("p",[e._v(e._s(e._f("transJs")("Total",e.langs,e.mutualVar.langs.localeCode))+" ")])]),e._v(" "),i("p",{staticClass:"text-lg text-gray-600"},[e._v(e._s(e._f("transJs")("Deposit (20%)",e.langs,e.mutualVar.langs.localeCode)))]),e._v(" "),i("div",{},[i("p",{staticClass:"text-lg text-blue-600"},[e._v(e._s(e._f("transJs")("Balance (80%)",e.langs,e.mutualVar.langs.localeCode))+"\n                        ")]),e._v(" "),i("select",{directives:[{name:"model",rawName:"v-model",value:e.mutualVar.cookiesInfo.checkout.balancePaymentMethod,expression:"mutualVar.cookiesInfo.checkout.balancePaymentMethod"}],staticClass:"border-2 border-gray-600",on:{change:function(t){var i=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.mutualVar.cookiesInfo.checkout,"balancePaymentMethod",t.target.multiple?i:i[0])}}},e._l(e.paymentOptions,(function(t){return i("option",{domProps:{value:t.name}},[e._v(" "+e._s(e._f("transJs")(t.name,e.langs,e.mutualVar.langs.localeCode)))])})),0)])]),e._v(" "),i("div",{staticClass:"col-span-6 text-right"},[e.couponValid||1!=e.calculatedDiscountRate?i("div",[i("del",[i("p",[e._v("HK$ "+e._s(e.subTotal))])]),e._v(" "),i("p",{staticClass:"text-red-500"},[e._v("HK$ "+e._s(e.discountedSubTotal))]),e._v(" "),i("p"),e._v(" "),i("p",{staticClass:"text-lg text-gray-600"},[i("strong",[e._v(" HK$ "+e._s(e.mutualVar.cookiesInfo.checkout.discountedDeposit)+" ")])])]):i("div",[i("p",[e._v("HK$ "+e._s(e.subTotal))]),e._v(" "),i("p"),e._v(" "),i("p",{staticClass:"text-lg text-gray-600"},[i("strong",[e._v(" HK$ "+e._s(e.mutualVar.cookiesInfo.checkout.deposit)+" ")])])]),e._v(" "),i("p",{staticClass:"text-lg text-blue-600"},[i("strong",[e._v(" HK$ "+e._s(e.balance)+" ")])])])]),e._v(" "),i("div",{staticClass:"flex justify-between "},[i("div",{},[i("p",{staticStyle:{color:"red"}},[e._v("* "+e._s(e._f("transJs")("you only need to pay deposit, balance will pay after 100% satisfied",e.langs,e.mutualVar.langs.localeCode)))])]),e._v(" "),e.windowHref.includes("shopping-cart")?i("div",{on:{click:function(t){return e.sendCookies()}}},[i("a",{attrs:{href:e.locale+"/shop-bag-bill"}},[i("button",{staticClass:"btn btn-primary",class:{"opacity-25":!e.checkoutClickable},attrs:{disabled:!e.checkoutClickable}},[i("i",{staticClass:"fas fa-shopping-cart"}),e._v(e._s(e._f("transJs")("checkout",e.langs,e.mutualVar.langs.localeCode)))])])]):e._e()])])])],2)}),[],!1,null,null,null).exports;const j=c({el:"#shoppingCart",components:{stripeCheckoutForm:O,shoppingCartItem:J},data:function(){return{}}},undefined,undefined,!1,null,null,null).exports,$={components:{Carousel:_},el:"#diamondRingReview",data:function(){return{mutualVar,selectingCarousel:"engagementRings",engagementRing:"",maxDeliveryDate:2,customerItems:"",carouselItem:{upperitems:"",items:[],active:!1},extraWorkingDates:M}},watch:{},created:function(){this.fetchCookies(),this.cleanLastEmptyItemAndMaxItemIndex(),this.getEngagementRing(),this.setCarouselType()},computed:{shortenName:function(){return this.mutualVar.cookiesInfo.shoppingCart.items[this.mutualVar.cookiesInfo.shoppingCart.selectingIndex].pairItems},shoppingCart:function(){return this.mutualVar.cookiesInfo.shoppingCart},subTotal:function(){for(var e=0,t=0;this.shortenName.length>t;t++)e+=parseInt(this.shortenName[t].unit_price),this.maxDeliveryDate<this.shortenName[t].delivery&&(this.maxDeliveryDate=this.shortenName[t].delivery);return e}},methods:{fetchCookies:function(){localStorage.getItem("shoppingCart")&&(this.shoppingCart=JSON.parse(decodeURIComponent(localStorage.getItem("shoppingCart"))))},sendCookies:function(){var e=this.shoppingCart;localStorage.setItem("shoppingCart",encodeURIComponent(JSON.stringify(e)),this.mutualVar.cookiesInfo.cookieLast)},getEngagementRing:function(){var e=this,t=this.shoppingCart.items[this.shoppingCart.selectingIndex].pairItems.filter((function(e){return"engagementRings"==e.type}))[0].id;get("/api/engagementRings/".concat(t)).then((function(i){e.carouselItem.upperitems=i.data.model,e.filterNotPostable(i.data.posts.invoicePosts,t)}))},cleanLastEmptyItemAndMaxItemIndex:function(){0==this.shoppingCart.items[this.shoppingCart.items.length-1].pairItems.length&&this.shoppingCart.items.pop(),this.shoppingCart.selectingIndex>this.shoppingCart.items.length-1&&(this.shoppingCart.selectingIndex=this.shoppingCart.items.length-1),this.sendCookies()},setCarouselType:function(){!this.shoppingCart.items[this.shoppingCart.selectingIndex].pairItems.filter((function(e){return"engagementRings"==e.type})).length>0&&(this.selectingCarousel=this.shoppingCart.items[this.shoppingCart.selectingIndex].pairItems[0].type)},directTo:function(e){var t=0;Number.isInteger(e)?t=this.shoppingCart.items[this.shoppingCart.selectingIndex].pairItems[e].url+this.shoppingCart.items[mutualVar.cookiesInfo.shoppingCart.selectingIndex].pairItems[e].id:("engagementRings"==e&&(t="/engagement-rings"),"diamonds"==e&&(t="/gia-loose-diamonds"),"/shopping-cart/"==e&&(t="/shopping-cart/"),t=mutualVar.langs.locale+t),window.open(t,"_self")},removeItem:function(e){var t=this.shoppingCart.items[this.shoppingCart.selectingIndex].pairItems[e].url;this.shoppingCart.items[this.shoppingCart.selectingIndex].pairItems.splice(e,1),this.sendCookies(),window.open(t,"_self")},addItemToCart:function(){this.shoppingCart.items[this.shoppingCart.selectingIndex].addedCart=1,this.shoppingCart.mode="create",this.shoppingCart.selectingIndex+=1,this.shoppingCart.items.push({addedCart:0,pairItems:[]}),this.sendCookies(),this.directTo("/shopping-cart/")},filterNotPostable:function(e,t){for(var i=[],n=0;e.length>n;n++)"App/EngagementRing"==e[n].postable_type&&e[n].postable_id==t&&i.push(e[n]);this.carouselItem.items=i}}},F={el:"#shopBagBill",components:{shoppingCartItem:J,stripeCheckoutForm:O},data:function(){return{mutualVar,cookies:mutualVar.cookiesInfo,form:{user:{name:"",email:"",address:"",country:"HK",mobile:"",wechat:""},onProgress:{login:!1,customerInfo:!1,payment:!1},onTab:"login"},formError:"",paymentOption:{modal:!1},formItems:[{data:"name",display:"Name",errorName:"data.name",type:"text"},{data:"phone",display:"Mobile",errorName:"data.phone",type:"number"},{data:"address",display:"Address",errorName:"data.address",type:"text"},{data:"email",display:"Email",errorName:"data.email",type:"text"}],langs,apiToken:"",customerInfo:{email:""},showCheckout:0,paymentResponse:{orderID:"",is_success:!1,response:0},decodeResponse:"",checkoutStatus:"selectingPayment",orderStatus:"",orderData:""}},watch:{},created:function(){this.fetchCookies(),this.apiToken=getMeta("api-token")},mounted:function(){this.checkOnProgress()},computed:{shortenName:function(){return this.cookies.shoppingCart.items[this.cookies.shoppingCart.selectingIndex].pairItems},locale:function(){return t()},isProcessing:function(){return mutualVar.status.isProcessing},checkoutClickable:function(){for(var e=this.cookies.shoppingCart.items,t=!0,i=0;e.length>i;i++)for(var n=0;e[i].pairItems.length>n;n++)1!=e[i].pairItems[n].available&&(t=!1);return e.length<1&&(t=!1),this.isProcessing&&(t=!1),t},title:function(){for(var e=this.cookies.shoppingCart.items,t="",i=0;e.length>i;i++)for(var n=0;e[i].pairItems.length>n;n++)t+=e[i].pairItems[n].title+" / ";return t},formData:function(){return{user:this.form.user,data:this.cookies.shoppingCart,api_token:this.apiToken,coupon_code:this.cookies.coupon_code,balancePaymentMethod:this.cookies.checkout.balancePaymentMethod,depositPaymentMethod:this.cookies.checkout.depositPaymentMethod,orderID:this.paymentResponse.orderID,status:this.orderStatus,stripeToken:""}},toQRcode:function(){var e=this,t=this.paymentResponse.response.response.qrcode_url;return QRCode.toDataURL(t).then((function(t){console.log(t),e.paymentResponse.response.response.qrcode_url=t})).catch((function(e){console.error(e)})),t}},filters:{},methods:{fetchCookies:function(){localStorage.getItem("shoppingCart")&&(this.cookies.shoppingCart=JSON.parse(decodeURIComponent(localStorage.getItem("shoppingCart")))),localStorage.getItem("form")&&(this.form=JSON.parse(decodeURIComponent(localStorage.getItem("form")))),a("coupon_code")&&(this.cookies.coupon_code=a("coupon_code")),a("checkout")&&(this.cookies.checkout=JSON.parse(a("checkout")))},sendCookies:function(){var e=this.cookies.shoppingCart;localStorage.setItem("shoppingCart",encodeURIComponent(JSON.stringify(e)),this.cookies.cookieLast),localStorage.setItem("form",encodeURIComponent(JSON.stringify(this.form)),this.cookies.cookieLast),n("coupon_code",this.cookies.coupon_code,this.cookies.cookieLast),n("checkout",JSON.stringify(this.cookies.checkout),this.cookies.cookieLast)},updateCustomerInfo:function(){var e=this;if(""!=this.apiToken&&!this.isProcessing){this.isProcessing=!0;var t={data:this.form.user,api_token:this.apiToken};post("/api/update-customer-info",t).then((function(t){"updated"!=t.data.model&&"created"!=t.data.model||(e.form.onProgress.customerInfo=!0,e.form.onTab="payment",e.sendCookies()),e.isProcessing=!1})).catch((function(t){e.formError=t.response.data.errors}))}},updateCartItems:function(){var e=this,t={api_token:this.apiToken,data:this.cookies.shoppingCart.items,order:0};this.apiToken&&(post("/api/update-cart-items",t).then((function(t){e.model=t.data.model})),this.sendCookies())},placeOrder:function(e){var t=this;""!=this.apiToken&&this.checkoutClickable&&!this.isProcessing&&(this.isProcessing=!0,this.cookies.checkout.depositPaymentMethod=e,post("/api/place-order",this.formData).then((function(e){e.data.saved&&(t.receivedPayment(e.data.message),t.isProcessing=!1),"Alipay(-1%)"==t.formData.depositPaymentMethod&&(t.responseToJson(e),t.checkOrderPaymentStatus(),t.isProcessing=!1),"Wechat(-1%)"==t.formData.depositPaymentMethod&&(t.responseToJson(e),t.checkOrderPaymentStatus(),t.isProcessing=!1)})).catch((function(e){mutualVar.notification.state.error=e.response.data.errors})))},alipay:function(){var e=this,t={user:this.form.user,data:this.cookies.shoppingCart,api_token:this.apiToken,coupon_code:this.cookies.coupon_code,balancePaymentMethod:this.cookies.checkout.balancePaymentMethod};post("/purchases/alipay",t).then((function(t){e.responseToJson(t)})).catch((function(t){e.$emit("paymentModalActive",null),mutualVar.notification.state.error=t.response.data.message}))},receivedPayment:function(e){this.cookies.shoppingCart.items=[],this.cookies.shoppingCart.selectingIndex=0,this.sendCookies(),this.updateCartItems(),window.open(mutualVar.langs.locale+"/thank-you","_self")},checkOrderPaymentStatus:function(){function e(e,i){setTimeout((function(){"received money"!=e.orderStatus&&get("/api/order/payment-status/"+e.paymentResponse.orderID).then((function(t){e.orderStatus=t.data.model,"received money"==t.data.model&&e.receivedPayment(t.data.model)}))}),2e3*t)}for(var t=0;60>t;t++)e(this)},responseToJson:function(e){var t;t=JSON.parse(e.data.response),this.paymentResponse.orderID=e.data.orderID,this.paymentResponse.is_success=e.data.is_success,this.paymentResponse.response=t},responseToJsonOld:function(e,t){var i="",n="";this.decodeResponse=e.data,i=this.decodeResponse.lastIndexOf("API---\x3ehttps://testapi.hipopay.com/"),n=this.decodeResponse.lastIndexOf('{"orderID":'),i=this.decodeResponse.slice(i+t,n),n=this.decodeResponse.slice(n+11,-1),i=JSON.parse(i),this.paymentResponse={orderID:n,response:i}},checkOnProgress:function(){""!=this.api_token?(this.form.onProgress.login=!0,this.fetchUserInfo()):(this.form.onProgress.login=!1,this.form.onTab="login"),""!=this.form.user.id&&(this.form.onProgress.customerInfo=!0)},fetchUserInfo:function(){var e=this;get("/api/fetch-customer-info").then((function(t){null!=t.data.model&&(e.form.user=t.data.model)}))},changeOnTab:function(e){var t=!1;"login"==e&&(t=!0),"customerInfo"==e&&""!=this.apiToken&&(t=!0),"payment"==e&&1==this.form.onProgress.customerInfo&&""!=this.apiToken&&this.form.user.id&&(t=!0),t&&(this.form.onTab=e,this.sendCookies())}}},G={el:"#aboutUs",data:function(){return{activedSubTab:"Appointment First",mutualVar}},watch:{$route:"fetchData"},computed:{partialUrl:function(){return window.location.pathname.slice(4)}},beforeMount:function(){return this.fetchData(),console.log(window.location.pathname.slice(12)),window.location.pathname.includes("buying-procedure")?this.activedSubTab=window.location.pathname.slice(21)?window.location.pathname.slice(21):"Appointment First":window.location.pathname.includes("about-us")?this.activedSubTab=window.location.pathname.slice(12)?window.location.pathname.slice(12):"Contact Us":void(this.activedSubTab=window.location.pathname.slice(20)?window.location.pathname.slice(20):"Appointment First")},methods:{activeSubTab:function(e){this.activedSubTab=e},fetchData:function(){var e=this;o("/api/buyingProcedure").then((function(t){e.trans=t.data.trans}))}}},L={el:"#login",data:function(){return{mutualVar,data:"",langs:u}},watch:{$route:"fetchData"},beforeMount:function(){},created:function(){""!=this.couponCode&&1==this.referral&&(this.mutualVar.notification.state.success=r("Login to save coupon code",u,mutualVar.langs.localeCode))},computed:{couponCode:function(){return a("coupon_code")},referral:function(){return a("referral")}},methods:{}};if(!pUrl.includes("/gia-loose-diamonds/round-cut")&&!pUrl.includes("/gia-loose-diamonds/fancy-cut-diamond")&&!pUrl.includes("/gia-loose-diamonds/fancy-color")&&"gia-loose-diamonds/"==window.location.pathname.slice(4,23))new Vue(m);if(!pUrl.includes("/engagement-rings/solitaire-ring-setting")&&!pUrl.includes("/engagement-rings/side-stones-setting")&&!pUrl.includes("/engagement-rings/halo-setting")&&"engagement-rings/"==window.location.pathname.slice(4,21))new Vue(b);if(!pUrl.includes("/wedding-rings/classic")&&!pUrl.includes("/wedding-rings/japanese")&&!pUrl.includes("/wedding-rings/vintage")&&"wedding-rings/"==window.location.pathname.slice(4,18))new Vue(w);if(!(pUrl.includes("/jewellery/necklaces")||pUrl.includes("/jewellery/earrings")||pUrl.includes("/jewellery/rings")||pUrl.includes("/jewellery/diamond-rings")||pUrl.includes("/jewellery/fancy-diamond-rings")||pUrl.includes("/jewellery/bracelets")||pUrl.includes("/jewellery/pendants")||"jewellery/"!=window.location.pathname.slice(4,14)))new Vue(S);if("customer-jewellery/"==window.location.pathname.slice(4,23))new Vue(T);if(pUrl.includes("/customer-moments")||pUrl.includes("/engagement-tips"))new Vue(D);if(pUrl.includes("/education-diamond-grading"))new Vue(N);if(pUrl.includes("about-us")||pUrl.includes("buying-procedure"))new Vue(G);if(pUrl.includes("diamond-ring-review"))new Vue($);if(pUrl.includes("shopping-cart"))new Vue(j);if(pUrl.includes("shop-bag-bill"))new Vue(F);if(pUrl.includes("login"))new Vue(L)})()})();